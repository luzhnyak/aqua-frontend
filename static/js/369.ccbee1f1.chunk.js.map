{"version":3,"file":"static/js/369.ccbee1f1.chunk.js","mappings":"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","sources":["webpack://aqua-frontend/./src/pages/UpdatePasswordPage/UpdatePasswordPage.module.css?e9ae","pages/UpdatePasswordPage/UpdatePasswordPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"UpdatePasswordPage_container__vQNxa\",\"mainstr\":\"UpdatePasswordPage_mainstr__cct0f\",\"formControl\":\"UpdatePasswordPage_formControl__9UWoa\",\"formTitle\":\"UpdatePasswordPage_formTitle__RCb4l\",\"formLabel\":\"UpdatePasswordPage_formLabel__K01cF\",\"stack\":\"UpdatePasswordPage_stack__zhv4q\",\"inputBox\":\"UpdatePasswordPage_inputBox__FgrSP\",\"inputBoxRep\":\"UpdatePasswordPage_inputBoxRep__fAqXS\",\"iconeye\":\"UpdatePasswordPage_iconeye__jPrlx\",\"inputpassword\":\"UpdatePasswordPage_inputpassword__0pD-j\",\"button\":\"UpdatePasswordPage_button__7pufs\",\"errormessage\":\"UpdatePasswordPage_errormessage__NNedZ\",\"errorBorder\":\"UpdatePasswordPage_errorBorder__JoLR4\",\"errorInput\":\"UpdatePasswordPage_errorInput__diBJA\"};","import { ErrorMessage, Field, Formik, Form } from 'formik';\nimport { useState } from 'react';\nimport * as Yup from 'yup';\nimport { ReactComponent as OpenEyeIcon } from 'images/icons/eye-slash.svg';\nimport { ReactComponent as ClosedEyeIcon } from 'images/icons/eye.svg';\nimport { useParams } from 'react-router-dom';\nimport { sendUpdatePass } from 'services/waterApi';\nimport css from './UpdatePasswordPage.module.css';\nimport { toast } from 'react-toastify';\nimport Backdrop from 'components/Backdrop/Backdrop';\nimport Loader from 'components/Loader/Loader';\n\nconst UpdatetPasswordPage = () => {\n  const { token } = useParams();\n  const [showNewPassword, setShowNewPassword] = useState(false);\n  const [showRepeatNewPassword, setShowRepeatNewPassword] = useState(false);\n  const [loader, setLoader] = useState(false);\n\n  const initialValues = {\n    newPassword: '',\n    repeatNewPassword: '',\n  };\n\n  const validationSchema = Yup.object({\n    newPassword: Yup.string()\n      .required('Password is required.')\n      .min(7, 'Password must be at least 8 characters.')\n      .max(55, 'Password must be less than 55 characters.'),\n    repeatNewPassword: Yup.string()\n      .oneOf([Yup.ref('newPassword'), null], 'Passwords must match')\n      .required('Repeat password is required.'),\n  });\n\n  const onSubmit = async (values, { resetForm }) => {\n    const { newPassword, repeatNewPassword } = values;\n    \n\n    if (newPassword !== repeatNewPassword) {\n      return;\n    }\n    setLoader(true)\n    try {\n      \n      await sendUpdatePass(token, repeatNewPassword);\n      toast.success(\"Password changed successfully\")\n\n      setTimeout(()=> {\n        return window.location.replace('/aqua-frontend/signin');\n      }, 3000)\n\n    } catch (error) {\n      setLoader(false)\n      toast.error(\"Something went wrong, try again later\")\n      \n    } finally {\n      setLoader(false)\n    }\n\n    resetForm();\n  };\n\n  return (\n    <div className={css.container}>\n      <div className={css.mainstr}>\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={onSubmit}\n        >\n          {({ errors, touched }) => (\n            <Form className={css.form}>\n              <h1 className={css.formTitle}>Update password</h1>\n              <div className={css.formControl}>\n              <div className={css.stack}>\n                  <label className={css.formLabel} htmlFor=\"update-password-id1\">\n                    Enter your new password\n                  </label>\n                  <div\n                    className={`${css.inputBox} ${\n                      errors.newPassword && touched.newPassword ? css.errorBorder : ''\n                    }`}\n                  >\n                    <Field\n                      id=\"update-password-id1\"\n                      className={`${css.inputpassword}  ${\n                        errors.newPassword && touched.newPassword\n                          ? css.errorInput\n                          : ''\n                      }`}\n                      name=\"newPassword\"\n                      type={showNewPassword ? 'text' : 'password'}\n                      placeholder=\"Enter new password\"\n                    />\n                    <div\n                      className={css.iconeye}\n                      onClick={() => setShowNewPassword(!showNewPassword)}\n                      style={{\n                        cursor: 'pointer',\n                        marginTop: 'auto',\n                        marginBottom: 'auto',\n                      }}\n                    >\n                      {showNewPassword ? <ClosedEyeIcon /> : <OpenEyeIcon />}\n                    </div>\n                  </div>\n                  <ErrorMessage\n                    name=\"newPassword\"\n                    component=\"div\"\n                    className={css.errormessage}\n                  />\n                </div>\n                <div className={css.stack}>\n                  <label className={css.formLabel} htmlFor=\"update-password-id2\">\n                    Repeat your new password\n                  </label>\n                  <div\n                    className={`${css.inputBox} ${\n                      errors.repeatNewPassword && touched.repeatNewPassword ? css.errorBorder : ''\n                    }`}\n                  >\n                    <Field\n                      id=\"update-password-id2\"\n                      className={`${css.inputpassword}  ${\n                        errors.repeatNewPassword && touched.repeatNewPassword\n                          ? css.errorInput\n                          : ''\n                      }`}\n                      name=\"repeatNewPassword\"\n                      type={showRepeatNewPassword ? 'text' : 'password'}\n                      placeholder=\"Repeat new password\"\n                    />\n                    <div\n                      className={css.iconeye}\n                      onClick={() => setShowRepeatNewPassword(!showRepeatNewPassword)}\n                      style={{\n                        cursor: 'pointer',\n                        marginTop: 'auto',\n                        marginBottom: 'auto',\n                      }}\n                    >\n                      {showRepeatNewPassword ? <ClosedEyeIcon /> : <OpenEyeIcon />}\n                    </div>\n                  </div>\n                  <ErrorMessage\n                    name=\"repeatNewPassword\"\n                    component=\"div\"\n                    className={css.errormessage}\n                  />\n                </div>\n                <button type=\"submit\" className={css.button}>Send</button>\n              </div>\n            </Form>\n          )}\n        </Formik>\n      </div>\n      {loader && \n       <Backdrop>\n         <Loader />\n       </Backdrop>}\n    </div>\n  );\n};\n\nexport default UpdatetPasswordPage;\n"],"names":["token","useParams","_useState","useState","_useState2","_slicedToArray","showNewPassword","setShowNewPassword","_useState3","_useState4","showRepeatNewPassword","setShowRepeatNewPassword","_useState5","_useState6","loader","setLoader","validationSchema","Yup","newPassword","required","min","max","repeatNewPassword","oneOf","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","values","_ref","resetForm","_context","prev","next","abrupt","sendUpdatePass","toast","setTimeout","window","location","replace","t0","finish","stop","_x","_x2","apply","arguments","_jsxs","className","css","children","_jsx","Formik","initialValues","_ref3","errors","touched","Form","htmlFor","concat","Field","id","name","type","placeholder","onClick","style","cursor","marginTop","marginBottom","ClosedEyeIcon","OpenEyeIcon","ErrorMessage","component","Backdrop","Loader"],"sourceRoot":""}