"use strict";(self.webpackChunkaqua_frontend=self.webpackChunkaqua_frontend||[]).push([[480],{480:(s,e,a)=>{a.r(e),a.d(e,{default:()=>I});var r=a(1560),t=a(8432);const o="UpdatePasswordPage_container__vQNxa";var n=a(6480),d=a(3226),c=a(8568),i=a(9060),w=a(2622),p=a(4568),l=a(4980),m=a(9560);const _="UpdatePasswordComponent_mainstr__NnnRk",u="UpdatePasswordComponent_form__mZ1yS",P="UpdatePasswordComponent_formControl__VlA3w",N="UpdatePasswordComponent_formTitle__7cfCF",h="UpdatePasswordComponent_formLabel__kt1iv",x="UpdatePasswordComponent_stack__0ChZG",j="UpdatePasswordComponent_inputBox__G0vxy",v="UpdatePasswordComponent_iconeye__jOzvf",C="UpdatePasswordComponent_inputpassword__n-rMD",f="UpdatePasswordComponent_button__BU71d",y="UpdatePasswordComponent_errormessage__ySVyv",g="UpdatePasswordComponent_errorBorder__DyS2Y",U="UpdatePasswordComponent_errorInput__CVkvW";var b=a(9204),S=a(2496);const k=s=>{let{onSubmit:e}=s;const{t:a}=(0,b.Gy)(),[r,t]=(0,i.useState)(!1),[o,n]=(0,i.useState)(!1),d=p.kt({newPassword:p.Qb().required("Password is required.").min(7,"Password must be at least 8 characters.").max(55,"Password must be less than 55 characters."),repeatNewPassword:p.Qb().oneOf([p.IL("newPassword")],"Passwords must match").required("Repeat password is required.")});return(0,S.jsx)("div",{className:_,children:(0,S.jsx)(w.QJ,{initialValues:{newPassword:"",repeatNewPassword:""},validationSchema:d,onSubmit:e,children:s=>{let{errors:e,touched:d}=s;return(0,S.jsxs)(w.QF,{className:u,children:[(0,S.jsx)("h1",{className:N,children:"Update password"}),(0,S.jsxs)("div",{className:P,children:[(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("label",{className:h,htmlFor:"update-password-id1",children:a("signIn.enterNewPass")}),(0,S.jsxs)("div",{className:"".concat(j," ").concat(e.newPassword&&d.newPassword?g:""),children:[(0,S.jsx)(w.IN,{id:"update-password-id1",className:"".concat(C,"  ").concat(e.newPassword&&d.newPassword?U:""),name:"newPassword",type:r?"text":"password",placeholder:a("signIn.enterNewPassText")}),(0,S.jsx)("div",{className:v,onClick:()=>t(!r),style:{cursor:"pointer",marginTop:"auto",marginBottom:"auto"},children:r?(0,S.jsx)(m._,{}):(0,S.jsx)(l._,{})})]}),(0,S.jsx)(w.mS,{name:"newPassword",component:"div",className:y})]}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("label",{className:h,htmlFor:"update-password-id2",children:a("signIn.repeatNewPass")}),(0,S.jsxs)("div",{className:"".concat(j," ").concat(e.repeatNewPassword&&d.repeatNewPassword?g:""),children:[(0,S.jsx)(w.IN,{id:"update-password-id2",className:"".concat(C,"  ").concat(e.repeatNewPassword&&d.repeatNewPassword?U:""),name:"repeatNewPassword",type:o?"text":"password",placeholder:a("signIn.repeatNewPassText")}),(0,S.jsx)("div",{className:v,onClick:()=>n(!o),style:{cursor:"pointer",marginTop:"auto",marginBottom:"auto"},children:o?(0,S.jsx)(m._,{}):(0,S.jsx)(l._,{})})]}),(0,S.jsx)(w.mS,{name:"repeatNewPassword",component:"div",className:y})]}),(0,S.jsx)("button",{type:"submit",className:f,children:a("signIn.send")})]})]})}})})},I=()=>{const{token:s}=(0,r.W4)(),[e,a]=(0,i.useState)(!1);return(0,S.jsxs)("div",{className:o,children:[(0,S.jsx)(k,{onSubmit:async(e,r)=>{let{resetForm:o}=r;const{newPassword:d,repeatNewPassword:c}=e;if(d===c){a(!0);try{if(!s)return;await(0,t.IT)(s,{newPassword:c}),n.m4.success("Password changed successfully"),setTimeout((()=>window.location.replace("/aqua-frontend/signin")),3e3)}catch(i){a(!1),n.m4.error("Something went wrong, try again later")}finally{a(!1)}o()}}}),e&&(0,S.jsx)(d.c,{children:(0,S.jsx)(c.c,{})})]})}}}]);
//# sourceMappingURL=480.53638e88.chunk.js.map