"use strict";(self.webpackChunkaqua_frontend=self.webpackChunkaqua_frontend||[]).push([[480],{480:(s,e,a)=>{a.r(e),a.d(e,{default:()=>g});var r=a(1560),o=a(6460);const t="UpdatePasswordPage_container__vQNxa";var n=a(6480),d=a(3226),c=a(8568),w=a(9060),i=a(2622),p=a(4568),l=a(4980),m=a(9560);const u="UpdatePasswordComponent_mainstr__NnnRk",_="UpdatePasswordComponent_form__mZ1yS",P="UpdatePasswordComponent_formControl__VlA3w",h="UpdatePasswordComponent_formTitle__7cfCF",x="UpdatePasswordComponent_formLabel__kt1iv",N="UpdatePasswordComponent_stack__0ChZG",j="UpdatePasswordComponent_inputBox__G0vxy",v="UpdatePasswordComponent_iconeye__jOzvf",C="UpdatePasswordComponent_inputpassword__n-rMD",y="UpdatePasswordComponent_button__BU71d",f="UpdatePasswordComponent_errormessage__ySVyv",U="UpdatePasswordComponent_errorBorder__DyS2Y",b="UpdatePasswordComponent_errorInput__CVkvW";var S=a(2496);const k=s=>{let{onSubmit:e}=s;const[a,r]=(0,w.useState)(!1),[o,t]=(0,w.useState)(!1),n=p.kt({newPassword:p.Qb().required("Password is required.").min(7,"Password must be at least 8 characters.").max(55,"Password must be less than 55 characters."),repeatNewPassword:p.Qb().oneOf([p.IL("newPassword")],"Passwords must match").required("Repeat password is required.")});return(0,S.jsx)("div",{className:u,children:(0,S.jsx)(i.QJ,{initialValues:{newPassword:"",repeatNewPassword:""},validationSchema:n,onSubmit:e,children:s=>{let{errors:e,touched:n}=s;return(0,S.jsxs)(i.QF,{className:_,children:[(0,S.jsx)("h1",{className:h,children:"Update password"}),(0,S.jsxs)("div",{className:P,children:[(0,S.jsxs)("div",{className:N,children:[(0,S.jsx)("label",{className:x,htmlFor:"update-password-id1",children:"Enter your new password"}),(0,S.jsxs)("div",{className:"".concat(j," ").concat(e.newPassword&&n.newPassword?U:""),children:[(0,S.jsx)(i.IN,{id:"update-password-id1",className:"".concat(C,"  ").concat(e.newPassword&&n.newPassword?b:""),name:"newPassword",type:a?"text":"password",placeholder:"Enter new password"}),(0,S.jsx)("div",{className:v,onClick:()=>r(!a),style:{cursor:"pointer",marginTop:"auto",marginBottom:"auto"},children:a?(0,S.jsx)(m._,{}):(0,S.jsx)(l._,{})})]}),(0,S.jsx)(i.mS,{name:"newPassword",component:"div",className:f})]}),(0,S.jsxs)("div",{className:N,children:[(0,S.jsx)("label",{className:x,htmlFor:"update-password-id2",children:"Repeat your new password"}),(0,S.jsxs)("div",{className:"".concat(j," ").concat(e.repeatNewPassword&&n.repeatNewPassword?U:""),children:[(0,S.jsx)(i.IN,{id:"update-password-id2",className:"".concat(C,"  ").concat(e.repeatNewPassword&&n.repeatNewPassword?b:""),name:"repeatNewPassword",type:o?"text":"password",placeholder:"Repeat new password"}),(0,S.jsx)("div",{className:v,onClick:()=>t(!o),style:{cursor:"pointer",marginTop:"auto",marginBottom:"auto"},children:o?(0,S.jsx)(m._,{}):(0,S.jsx)(l._,{})})]}),(0,S.jsx)(i.mS,{name:"repeatNewPassword",component:"div",className:f})]}),(0,S.jsx)("button",{type:"submit",className:y,children:"Send"})]})]})}})})},g=()=>{const{token:s}=(0,r.W4)(),[e,a]=(0,w.useState)(!1);return(0,S.jsxs)("div",{className:t,children:[(0,S.jsx)(k,{onSubmit:async(e,r)=>{let{resetForm:t}=r;const{newPassword:d,repeatNewPassword:c}=e;if(d===c){a(!0);try{if(!s)return;await(0,o.IT)(s,{newPassword:c}),n.m4.success("Password changed successfully"),setTimeout((()=>window.location.replace("/aqua-frontend/signin")),3e3)}catch(w){a(!1),n.m4.error("Something went wrong, try again later")}finally{a(!1)}t()}}}),e&&(0,S.jsx)(d.c,{children:(0,S.jsx)(c.c,{})})]})}}}]);
//# sourceMappingURL=480.7720ae23.chunk.js.map