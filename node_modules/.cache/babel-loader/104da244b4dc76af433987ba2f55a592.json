{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\n\n// src/globals.ts\nvar globals_exports = {};\n__export(globals_exports, {\n  assign: () => assign,\n  colors: () => colors,\n  createStringInterpolator: () => createStringInterpolator,\n  skipAnimation: () => skipAnimation,\n  to: () => to,\n  willAdvance: () => willAdvance\n});\n\n// ../rafz/dist/react-spring_rafz.modern.mjs\nvar updateQueue = makeQueue();\nvar raf = fn => schedule(fn, updateQueue);\nvar writeQueue = makeQueue();\nraf.write = fn => schedule(fn, writeQueue);\nvar onStartQueue = makeQueue();\nraf.onStart = fn => schedule(fn, onStartQueue);\nvar onFrameQueue = makeQueue();\nraf.onFrame = fn => schedule(fn, onFrameQueue);\nvar onFinishQueue = makeQueue();\nraf.onFinish = fn => schedule(fn, onFinishQueue);\nvar timeouts = [];\nraf.setTimeout = (handler, ms) => {\n  const time = raf.now() + ms;\n  const cancel = () => {\n    const i = timeouts.findIndex(t => t.cancel == cancel);\n    if (~i) timeouts.splice(i, 1);\n    pendingCount -= ~i ? 1 : 0;\n  };\n  const timeout = {\n    time,\n    handler,\n    cancel\n  };\n  timeouts.splice(findTimeout(time), 0, timeout);\n  pendingCount += 1;\n  start();\n  return timeout;\n};\nvar findTimeout = time => ~(~timeouts.findIndex(t => t.time > time) || ~timeouts.length);\nraf.cancel = fn => {\n  onStartQueue.delete(fn);\n  onFrameQueue.delete(fn);\n  onFinishQueue.delete(fn);\n  updateQueue.delete(fn);\n  writeQueue.delete(fn);\n};\nraf.sync = fn => {\n  sync = true;\n  raf.batchedUpdates(fn);\n  sync = false;\n};\nraf.throttle = fn => {\n  let lastArgs;\n  function queuedFn() {\n    try {\n      fn(...lastArgs);\n    } finally {\n      lastArgs = null;\n    }\n  }\n  function throttled() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    lastArgs = args;\n    raf.onStart(queuedFn);\n  }\n  throttled.handler = fn;\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn);\n    lastArgs = null;\n  };\n  return throttled;\n};\nvar nativeRaf = typeof window != \"undefined\" ? window.requestAnimationFrame :\n// eslint-disable-next-line @typescript-eslint/no-empty-function\n() => {};\nraf.use = impl => nativeRaf = impl;\nraf.now = typeof performance != \"undefined\" ? () => performance.now() : Date.now;\nraf.batchedUpdates = fn => fn();\nraf.catch = console.error;\nraf.frameLoop = \"always\";\nraf.advance = () => {\n  if (raf.frameLoop !== \"demand\") {\n    console.warn(\"Cannot call the manual advancement of rafz whilst frameLoop is not set as demand\");\n  } else {\n    update();\n  }\n};\nvar ts = -1;\nvar pendingCount = 0;\nvar sync = false;\nfunction schedule(fn, queue) {\n  if (sync) {\n    queue.delete(fn);\n    fn(0);\n  } else {\n    queue.add(fn);\n    start();\n  }\n}\nfunction start() {\n  if (ts < 0) {\n    ts = 0;\n    if (raf.frameLoop !== \"demand\") {\n      nativeRaf(loop);\n    }\n  }\n}\nfunction stop() {\n  ts = -1;\n}\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop);\n    raf.batchedUpdates(update);\n  }\n}\nfunction update() {\n  const prevTs = ts;\n  ts = raf.now();\n  const count = findTimeout(ts);\n  if (count) {\n    eachSafely(timeouts.splice(0, count), t => t.handler());\n    pendingCount -= count;\n  }\n  if (!pendingCount) {\n    stop();\n    return;\n  }\n  onStartQueue.flush();\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);\n  onFrameQueue.flush();\n  writeQueue.flush();\n  onFinishQueue.flush();\n}\nfunction makeQueue() {\n  let next = /* @__PURE__ */new Set();\n  let current = next;\n  return {\n    add(fn) {\n      pendingCount += current == next && !next.has(fn) ? 1 : 0;\n      next.add(fn);\n    },\n    delete(fn) {\n      pendingCount -= current == next && next.has(fn) ? 1 : 0;\n      return next.delete(fn);\n    },\n    flush(arg) {\n      if (current.size) {\n        next = /* @__PURE__ */new Set();\n        pendingCount -= current.size;\n        eachSafely(current, fn => fn(arg) && next.add(fn));\n        pendingCount += next.size;\n        current = next;\n      }\n    }\n  };\n}\nfunction eachSafely(values, each2) {\n  values.forEach(value => {\n    try {\n      each2(value);\n    } catch (e) {\n      raf.catch(e);\n    }\n  });\n}\n\n// src/helpers.ts\nfunction noop() {}\nvar defineHidden = (obj, key, value) => Object.defineProperty(obj, key, {\n  value,\n  writable: true,\n  configurable: true\n});\nvar is = {\n  arr: Array.isArray,\n  obj: a => !!a && a.constructor.name === \"Object\",\n  fun: a => typeof a === \"function\",\n  str: a => typeof a === \"string\",\n  num: a => typeof a === \"number\",\n  und: a => a === void 0\n};\nfunction isEqual(a, b) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false;\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  return a === b;\n}\nvar each = (obj, fn) => obj.forEach(fn);\nfunction eachProp(obj, fn, ctx) {\n  if (is.arr(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      fn.call(ctx, obj[i], `${i}`);\n    }\n    return;\n  }\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx, obj[key], key);\n    }\n  }\n}\nvar toArray = a => is.und(a) ? [] : is.arr(a) ? a : [a];\nfunction flush(queue, iterator) {\n  if (queue.size) {\n    const items = Array.from(queue);\n    queue.clear();\n    each(items, iterator);\n  }\n}\nvar flushCalls = function (queue) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n  return flush(queue, fn => fn(...args));\n};\nvar isSSR = () => typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\n\n// src/globals.ts\nvar createStringInterpolator;\nvar to;\nvar colors = null;\nvar skipAnimation = false;\nvar willAdvance = noop;\nvar assign = globals => {\n  if (globals.to) to = globals.to;\n  if (globals.now) raf.now = globals.now;\n  if (globals.colors !== void 0) colors = globals.colors;\n  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation;\n  if (globals.createStringInterpolator) createStringInterpolator = globals.createStringInterpolator;\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame);\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates;\n  if (globals.willAdvance) willAdvance = globals.willAdvance;\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop;\n};\n\n// src/FrameLoop.ts\nvar startQueue = /* @__PURE__ */new Set();\nvar currentFrame = [];\nvar prevFrame = [];\nvar priority = 0;\nvar frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length;\n  },\n  /** Advance the given animation on every frame until idle. */\n  start(animation) {\n    if (priority > animation.priority) {\n      startQueue.add(animation);\n      raf.onStart(flushStartQueue);\n    } else {\n      startSafely(animation);\n      raf(advance);\n    }\n  },\n  /** Advance all animations by the given time. */\n  advance,\n  /** Call this when an animation's priority changes. */\n  sort(animation) {\n    if (priority) {\n      raf.onFrame(() => frameLoop.sort(animation));\n    } else {\n      const prevIndex = currentFrame.indexOf(animation);\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1);\n        startUnsafely(animation);\n      }\n    }\n  },\n  /**\n   * Clear all animations. For testing purposes.\n   *\n   * ☠️ Never call this from within the frameloop.\n   */\n  clear() {\n    currentFrame = [];\n    startQueue.clear();\n  }\n};\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely);\n  startQueue.clear();\n  raf(advance);\n}\nfunction startSafely(animation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation);\n}\nfunction startUnsafely(animation) {\n  currentFrame.splice(findIndex(currentFrame, other => other.priority > animation.priority), 0, animation);\n}\nfunction advance(dt) {\n  const nextFrame = prevFrame;\n  for (let i = 0; i < currentFrame.length; i++) {\n    const animation = currentFrame[i];\n    priority = animation.priority;\n    if (!animation.idle) {\n      willAdvance(animation);\n      animation.advance(dt);\n      if (!animation.idle) {\n        nextFrame.push(animation);\n      }\n    }\n  }\n  priority = 0;\n  prevFrame = currentFrame;\n  prevFrame.length = 0;\n  currentFrame = nextFrame;\n  return currentFrame.length > 0;\n}\nfunction findIndex(arr, test) {\n  const index = arr.findIndex(test);\n  return index < 0 ? arr.length : index;\n}\n\n// src/clamp.ts\nvar clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\n// src/colors.ts\nvar colors2 = {\n  transparent: 0,\n  aliceblue: 4042850303,\n  antiquewhite: 4209760255,\n  aqua: 16777215,\n  aquamarine: 2147472639,\n  azure: 4043309055,\n  beige: 4126530815,\n  bisque: 4293182719,\n  black: 255,\n  blanchedalmond: 4293643775,\n  blue: 65535,\n  blueviolet: 2318131967,\n  brown: 2771004159,\n  burlywood: 3736635391,\n  burntsienna: 3934150143,\n  cadetblue: 1604231423,\n  chartreuse: 2147418367,\n  chocolate: 3530104575,\n  coral: 4286533887,\n  cornflowerblue: 1687547391,\n  cornsilk: 4294499583,\n  crimson: 3692313855,\n  cyan: 16777215,\n  darkblue: 35839,\n  darkcyan: 9145343,\n  darkgoldenrod: 3095792639,\n  darkgray: 2846468607,\n  darkgreen: 6553855,\n  darkgrey: 2846468607,\n  darkkhaki: 3182914559,\n  darkmagenta: 2332068863,\n  darkolivegreen: 1433087999,\n  darkorange: 4287365375,\n  darkorchid: 2570243327,\n  darkred: 2332033279,\n  darksalmon: 3918953215,\n  darkseagreen: 2411499519,\n  darkslateblue: 1211993087,\n  darkslategray: 793726975,\n  darkslategrey: 793726975,\n  darkturquoise: 13554175,\n  darkviolet: 2483082239,\n  deeppink: 4279538687,\n  deepskyblue: 12582911,\n  dimgray: 1768516095,\n  dimgrey: 1768516095,\n  dodgerblue: 512819199,\n  firebrick: 2988581631,\n  floralwhite: 4294635775,\n  forestgreen: 579543807,\n  fuchsia: 4278255615,\n  gainsboro: 3705462015,\n  ghostwhite: 4177068031,\n  gold: 4292280575,\n  goldenrod: 3668254975,\n  gray: 2155905279,\n  green: 8388863,\n  greenyellow: 2919182335,\n  grey: 2155905279,\n  honeydew: 4043305215,\n  hotpink: 4285117695,\n  indianred: 3445382399,\n  indigo: 1258324735,\n  ivory: 4294963455,\n  khaki: 4041641215,\n  lavender: 3873897215,\n  lavenderblush: 4293981695,\n  lawngreen: 2096890111,\n  lemonchiffon: 4294626815,\n  lightblue: 2916673279,\n  lightcoral: 4034953471,\n  lightcyan: 3774873599,\n  lightgoldenrodyellow: 4210742015,\n  lightgray: 3553874943,\n  lightgreen: 2431553791,\n  lightgrey: 3553874943,\n  lightpink: 4290167295,\n  lightsalmon: 4288707327,\n  lightseagreen: 548580095,\n  lightskyblue: 2278488831,\n  lightslategray: 2005441023,\n  lightslategrey: 2005441023,\n  lightsteelblue: 2965692159,\n  lightyellow: 4294959359,\n  lime: 16711935,\n  limegreen: 852308735,\n  linen: 4210091775,\n  magenta: 4278255615,\n  maroon: 2147483903,\n  mediumaquamarine: 1724754687,\n  mediumblue: 52735,\n  mediumorchid: 3126187007,\n  mediumpurple: 2473647103,\n  mediumseagreen: 1018393087,\n  mediumslateblue: 2070474495,\n  mediumspringgreen: 16423679,\n  mediumturquoise: 1221709055,\n  mediumvioletred: 3340076543,\n  midnightblue: 421097727,\n  mintcream: 4127193855,\n  mistyrose: 4293190143,\n  moccasin: 4293178879,\n  navajowhite: 4292783615,\n  navy: 33023,\n  oldlace: 4260751103,\n  olive: 2155872511,\n  olivedrab: 1804477439,\n  orange: 4289003775,\n  orangered: 4282712319,\n  orchid: 3664828159,\n  palegoldenrod: 4008225535,\n  palegreen: 2566625535,\n  paleturquoise: 2951671551,\n  palevioletred: 3681588223,\n  papayawhip: 4293907967,\n  peachpuff: 4292524543,\n  peru: 3448061951,\n  pink: 4290825215,\n  plum: 3718307327,\n  powderblue: 2967529215,\n  purple: 2147516671,\n  rebeccapurple: 1714657791,\n  red: 4278190335,\n  rosybrown: 3163525119,\n  royalblue: 1097458175,\n  saddlebrown: 2336560127,\n  salmon: 4202722047,\n  sandybrown: 4104413439,\n  seagreen: 780883967,\n  seashell: 4294307583,\n  sienna: 2689740287,\n  silver: 3233857791,\n  skyblue: 2278484991,\n  slateblue: 1784335871,\n  slategray: 1887473919,\n  slategrey: 1887473919,\n  snow: 4294638335,\n  springgreen: 16744447,\n  steelblue: 1182971135,\n  tan: 3535047935,\n  teal: 8421631,\n  thistle: 3636451583,\n  tomato: 4284696575,\n  turquoise: 1088475391,\n  violet: 4001558271,\n  wheat: 4125012991,\n  white: 4294967295,\n  whitesmoke: 4126537215,\n  yellow: 4294902015,\n  yellowgreen: 2597139199\n};\n\n// src/colorMatchers.ts\nvar NUMBER = \"[-+]?\\\\d*\\\\.?\\\\d+\";\nvar PERCENTAGE = NUMBER + \"%\";\nfunction call() {\n  for (var _len3 = arguments.length, parts = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    parts[_key3] = arguments[_key3];\n  }\n  return \"\\\\(\\\\s*(\" + parts.join(\")\\\\s*,\\\\s*(\") + \")\\\\s*\\\\)\";\n}\nvar rgb = new RegExp(\"rgb\" + call(NUMBER, NUMBER, NUMBER));\nvar rgba = new RegExp(\"rgba\" + call(NUMBER, NUMBER, NUMBER, NUMBER));\nvar hsl = new RegExp(\"hsl\" + call(NUMBER, PERCENTAGE, PERCENTAGE));\nvar hsla = new RegExp(\"hsla\" + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nvar hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex6 = /^#([0-9a-fA-F]{6})$/;\nvar hex8 = /^#([0-9a-fA-F]{8})$/;\n\n// src/normalizeColor.ts\nfunction normalizeColor(color) {\n  let match;\n  if (typeof color === \"number\") {\n    return color >>> 0 === color && color >= 0 && color <= 4294967295 ? color : null;\n  }\n  if (match = hex6.exec(color)) return parseInt(match[1] + \"ff\", 16) >>> 0;\n  if (colors && colors[color] !== void 0) {\n    return colors[color];\n  }\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 |\n    // r\n    parse255(match[2]) << 16 |\n    // g\n    parse255(match[3]) << 8 |\n    // b\n    255) >>>\n    // a\n    0;\n  }\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 |\n    // r\n    parse255(match[2]) << 16 |\n    // g\n    parse255(match[3]) << 8 |\n    // b\n    parse1(match[4])) >>>\n    // a\n    0;\n  }\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] +\n    // r\n    match[2] + match[2] +\n    // g\n    match[3] + match[3] +\n    // b\n    \"ff\",\n    // a\n    16) >>> 0;\n  }\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] +\n    // r\n    match[2] + match[2] +\n    // g\n    match[3] + match[3] +\n    // b\n    match[4] + match[4],\n    // a\n    16) >>> 0;\n  }\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]),\n    // h\n    parsePercentage(match[2]),\n    // s\n    parsePercentage(match[3])\n    // l\n    ) | 255) >>>\n    // a\n    0;\n  }\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]),\n    // h\n    parsePercentage(match[2]),\n    // s\n    parsePercentage(match[3])\n    // l\n    ) | parse1(match[4])) >>>\n    // a\n    0;\n  }\n  return null;\n}\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\nfunction parsePercentage(str) {\n  const int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\n// src/colorToRgba.ts\nfunction colorToRgba(input) {\n  let int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  const r = (int32Color & 4278190080) >>> 24;\n  const g = (int32Color & 16711680) >>> 16;\n  const b = (int32Color & 65280) >>> 8;\n  const a = (int32Color & 255) / 255;\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n// src/createInterpolator.ts\nvar createInterpolator = (range, output, extrapolate) => {\n  if (is.fun(range)) {\n    return range;\n  }\n  if (is.arr(range)) {\n    return createInterpolator({\n      range,\n      output,\n      extrapolate\n    });\n  }\n  if (is.str(range.output[0])) {\n    return createStringInterpolator(range);\n  }\n  const config = range;\n  const outputRange = config.output;\n  const inputRange = config.range || [0, 1];\n  const extrapolateLeft = config.extrapolateLeft || config.extrapolate || \"extend\";\n  const extrapolateRight = config.extrapolateRight || config.extrapolate || \"extend\";\n  const easing = config.easing || (t => t);\n  return input => {\n    const range2 = findRange(input, inputRange);\n    return interpolate(input, inputRange[range2], inputRange[range2 + 1], outputRange[range2], outputRange[range2 + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n};\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  let result = map ? map(input) : input;\n  if (result < inputMin) {\n    if (extrapolateLeft === \"identity\") return result;else if (extrapolateLeft === \"clamp\") result = inputMin;\n  }\n  if (result > inputMax) {\n    if (extrapolateRight === \"identity\") return result;else if (extrapolateRight === \"clamp\") result = inputMax;\n  }\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax;\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) if (inputRange[i] >= input) break;\n  return i - 1;\n}\n\n// src/easings.ts\nvar steps = function (steps2) {\n  let direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"end\";\n  return progress2 => {\n    progress2 = direction === \"end\" ? Math.min(progress2, 0.999) : Math.max(progress2, 1e-3);\n    const expanded = progress2 * steps2;\n    const rounded = direction === \"end\" ? Math.floor(expanded) : Math.ceil(expanded);\n    return clamp(0, 1, rounded / steps2);\n  };\n};\nvar c1 = 1.70158;\nvar c2 = c1 * 1.525;\nvar c3 = c1 + 1;\nvar c4 = 2 * Math.PI / 3;\nvar c5 = 2 * Math.PI / 4.5;\nvar bounceOut = x => {\n  const n1 = 7.5625;\n  const d1 = 2.75;\n  if (x < 1 / d1) {\n    return n1 * x * x;\n  } else if (x < 2 / d1) {\n    return n1 * (x -= 1.5 / d1) * x + 0.75;\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= 2.25 / d1) * x + 0.9375;\n  } else {\n    return n1 * (x -= 2.625 / d1) * x + 0.984375;\n  }\n};\nvar easings = {\n  linear: x => x,\n  easeInQuad: x => x * x,\n  easeOutQuad: x => 1 - (1 - x) * (1 - x),\n  easeInOutQuad: x => x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2,\n  easeInCubic: x => x * x * x,\n  easeOutCubic: x => 1 - Math.pow(1 - x, 3),\n  easeInOutCubic: x => x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,\n  easeInQuart: x => x * x * x * x,\n  easeOutQuart: x => 1 - Math.pow(1 - x, 4),\n  easeInOutQuart: x => x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,\n  easeInQuint: x => x * x * x * x * x,\n  easeOutQuint: x => 1 - Math.pow(1 - x, 5),\n  easeInOutQuint: x => x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,\n  easeInSine: x => 1 - Math.cos(x * Math.PI / 2),\n  easeOutSine: x => Math.sin(x * Math.PI / 2),\n  easeInOutSine: x => -(Math.cos(Math.PI * x) - 1) / 2,\n  easeInExpo: x => x === 0 ? 0 : Math.pow(2, 10 * x - 10),\n  easeOutExpo: x => x === 1 ? 1 : 1 - Math.pow(2, -10 * x),\n  easeInOutExpo: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? Math.pow(2, 20 * x - 10) / 2 : (2 - Math.pow(2, -20 * x + 10)) / 2,\n  easeInCirc: x => 1 - Math.sqrt(1 - Math.pow(x, 2)),\n  easeOutCirc: x => Math.sqrt(1 - Math.pow(x - 1, 2)),\n  easeInOutCirc: x => x < 0.5 ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2 : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2,\n  easeInBack: x => c3 * x * x * x - c1 * x * x,\n  easeOutBack: x => 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),\n  easeInOutBack: x => x < 0.5 ? Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2) / 2 : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2,\n  easeInElastic: x => x === 0 ? 0 : x === 1 ? 1 : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4),\n  easeOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1,\n  easeInOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2 : Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5) / 2 + 1,\n  easeInBounce: x => 1 - bounceOut(1 - x),\n  easeOutBounce: bounceOut,\n  easeInOutBounce: x => x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2,\n  steps\n};\n\n// src/fluids.ts\nvar $get = Symbol.for(\"FluidValue.get\");\nvar $observers = Symbol.for(\"FluidValue.observers\");\nvar hasFluidValue = arg => Boolean(arg && arg[$get]);\nvar getFluidValue = arg => arg && arg[$get] ? arg[$get]() : arg;\nvar getFluidObservers = target => target[$observers] || null;\nfunction callFluidObserver(observer2, event) {\n  if (observer2.eventObserved) {\n    observer2.eventObserved(event);\n  } else {\n    observer2(event);\n  }\n}\nfunction callFluidObservers(target, event) {\n  const observers = target[$observers];\n  if (observers) {\n    observers.forEach(observer2 => {\n      callFluidObserver(observer2, event);\n    });\n  }\n}\nvar FluidValue = class {\n  constructor(get) {\n    if (!get && !(get = this.get)) {\n      throw Error(\"Unknown getter\");\n    }\n    setFluidGetter(this, get);\n  }\n};\n$get, $observers;\nvar setFluidGetter = (target, get) => setHidden(target, $get, get);\nfunction addFluidObserver(target, observer2) {\n  if (target[$get]) {\n    let observers = target[$observers];\n    if (!observers) {\n      setHidden(target, $observers, observers = /* @__PURE__ */new Set());\n    }\n    if (!observers.has(observer2)) {\n      observers.add(observer2);\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer2);\n      }\n    }\n  }\n  return observer2;\n}\nfunction removeFluidObserver(target, observer2) {\n  const observers = target[$observers];\n  if (observers && observers.has(observer2)) {\n    const count = observers.size - 1;\n    if (count) {\n      observers.delete(observer2);\n    } else {\n      target[$observers] = null;\n    }\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer2);\n    }\n  }\n}\nvar setHidden = (target, key, value) => Object.defineProperty(target, key, {\n  value,\n  writable: true,\n  configurable: true\n});\n\n// src/regexs.ts\nvar numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\nvar unitRegex = new RegExp(`(${numberRegex.source})(%|[a-z]+)`, \"i\");\nvar rgbaRegex = /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi;\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\n// src/variableToRgba.ts\nvar variableToRgba = input => {\n  const [token, fallback] = parseCSSVariable(input);\n  if (!token || isSSR()) {\n    return input;\n  }\n  const value = window.getComputedStyle(document.documentElement).getPropertyValue(token);\n  if (value) {\n    return value.trim();\n  } else if (fallback && fallback.startsWith(\"--\")) {\n    const value2 = window.getComputedStyle(document.documentElement).getPropertyValue(fallback);\n    if (value2) {\n      return value2;\n    } else {\n      return input;\n    }\n  } else if (fallback && cssVariableRegex.test(fallback)) {\n    return variableToRgba(fallback);\n  } else if (fallback) {\n    return fallback;\n  }\n  return input;\n};\nvar parseCSSVariable = current => {\n  const match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n  const [, token, fallback] = match;\n  return [token, fallback];\n};\n\n// src/stringInterpolation.ts\nvar namedColorRegex;\nvar rgbaRound = (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`;\nvar createStringInterpolator2 = config => {\n  if (!namedColorRegex) namedColorRegex = colors ?\n  // match color names, ignore partial matches\n  new RegExp(`(${Object.keys(colors).join(\"|\")})(?!\\\\w)`, \"g\") :\n  // never match\n  /^\\b$/;\n  const output = config.output.map(value => {\n    return getFluidValue(value).replace(cssVariableRegex, variableToRgba).replace(colorRegex, colorToRgba).replace(namedColorRegex, colorToRgba);\n  });\n  const keyframes = output.map(value => value.match(numberRegex).map(Number));\n  const outputRanges = keyframes[0].map((_, i) => keyframes.map(values => {\n    if (!(i in values)) {\n      throw Error('The arity of each \"output\" value must be equal');\n    }\n    return values[i];\n  }));\n  const interpolators = outputRanges.map(output2 => createInterpolator({\n    ...config,\n    output: output2\n  }));\n  return input => {\n    const missingUnit = !unitRegex.test(output[0]) && output.find(value => unitRegex.test(value))?.replace(numberRegex, \"\");\n    let i = 0;\n    return output[0].replace(numberRegex, () => `${interpolators[i++](input)}${missingUnit || \"\"}`).replace(rgbaRegex, rgbaRound);\n  };\n};\n\n// src/deprecations.ts\nvar prefix = \"react-spring: \";\nvar once = fn => {\n  const func = fn;\n  let called = false;\n  if (typeof func != \"function\") {\n    throw new TypeError(`${prefix}once requires a function parameter`);\n  }\n  return function () {\n    if (!called) {\n      func(...arguments);\n      called = true;\n    }\n  };\n};\nvar warnInterpolate = once(console.warn);\nfunction deprecateInterpolate() {\n  warnInterpolate(`${prefix}The \"interpolate\" function is deprecated in v9 (use \"to\" instead)`);\n}\nvar warnDirectCall = once(console.warn);\nfunction deprecateDirectCall() {\n  warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use \".start\" instead), this will be removed in later 0.X.0 versions`);\n}\n\n// src/isAnimatedString.ts\nfunction isAnimatedString(value) {\n  return is.str(value) && (value[0] == \"#\" || /\\d/.test(value) ||\n  // Do not identify a CSS variable as an AnimatedString if its SSR\n  !isSSR() && cssVariableRegex.test(value) || value in (colors || {}));\n}\n\n// src/dom-events/resize/resizeElement.ts\nvar observer;\nvar resizeHandlers = /* @__PURE__ */new WeakMap();\nvar handleObservation = entries => entries.forEach(_ref => {\n  let {\n    target,\n    contentRect\n  } = _ref;\n  return resizeHandlers.get(target)?.forEach(handler => handler(contentRect));\n});\nfunction resizeElement(handler, target) {\n  if (!observer) {\n    if (typeof ResizeObserver !== \"undefined\") {\n      observer = new ResizeObserver(handleObservation);\n    }\n  }\n  let elementHandlers = resizeHandlers.get(target);\n  if (!elementHandlers) {\n    elementHandlers = /* @__PURE__ */new Set();\n    resizeHandlers.set(target, elementHandlers);\n  }\n  elementHandlers.add(handler);\n  if (observer) {\n    observer.observe(target);\n  }\n  return () => {\n    const elementHandlers2 = resizeHandlers.get(target);\n    if (!elementHandlers2) return;\n    elementHandlers2.delete(handler);\n    if (!elementHandlers2.size && observer) {\n      observer.unobserve(target);\n    }\n  };\n}\n\n// src/dom-events/resize/resizeWindow.ts\nvar listeners = /* @__PURE__ */new Set();\nvar cleanupWindowResizeHandler;\nvar createResizeHandler = () => {\n  const handleResize = () => {\n    listeners.forEach(callback => callback({\n      width: window.innerWidth,\n      height: window.innerHeight\n    }));\n  };\n  window.addEventListener(\"resize\", handleResize);\n  return () => {\n    window.removeEventListener(\"resize\", handleResize);\n  };\n};\nvar resizeWindow = callback => {\n  listeners.add(callback);\n  if (!cleanupWindowResizeHandler) {\n    cleanupWindowResizeHandler = createResizeHandler();\n  }\n  return () => {\n    listeners.delete(callback);\n    if (!listeners.size && cleanupWindowResizeHandler) {\n      cleanupWindowResizeHandler();\n      cleanupWindowResizeHandler = void 0;\n    }\n  };\n};\n\n// src/dom-events/resize/index.ts\nvar onResize = function (callback) {\n  let {\n    container = document.documentElement\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (container === document.documentElement) {\n    return resizeWindow(callback);\n  } else {\n    return resizeElement(callback, container);\n  }\n};\n\n// src/progress.ts\nvar progress = (min, max, value) => max - min === 0 ? 1 : (value - min) / (max - min);\n\n// src/dom-events/scroll/ScrollHandler.ts\nvar SCROLL_KEYS = {\n  x: {\n    length: \"Width\",\n    position: \"Left\"\n  },\n  y: {\n    length: \"Height\",\n    position: \"Top\"\n  }\n};\nvar ScrollHandler = class {\n  constructor(callback, container) {\n    this.createAxis = () => ({\n      current: 0,\n      progress: 0,\n      scrollLength: 0\n    });\n    this.updateAxis = axisName => {\n      const axis = this.info[axisName];\n      const {\n        length,\n        position\n      } = SCROLL_KEYS[axisName];\n      axis.current = this.container[`scroll${position}`];\n      axis.scrollLength = this.container[\"scroll\" + length] - this.container[\"client\" + length];\n      axis.progress = progress(0, axis.scrollLength, axis.current);\n    };\n    this.update = () => {\n      this.updateAxis(\"x\");\n      this.updateAxis(\"y\");\n    };\n    this.sendEvent = () => {\n      this.callback(this.info);\n    };\n    this.advance = () => {\n      this.update();\n      this.sendEvent();\n    };\n    this.callback = callback;\n    this.container = container;\n    this.info = {\n      time: 0,\n      x: this.createAxis(),\n      y: this.createAxis()\n    };\n  }\n};\n\n// src/dom-events/scroll/index.ts\nvar scrollListeners = /* @__PURE__ */new WeakMap();\nvar resizeListeners = /* @__PURE__ */new WeakMap();\nvar onScrollHandlers = /* @__PURE__ */new WeakMap();\nvar getTarget = container => container === document.documentElement ? window : container;\nvar onScroll = function (callback) {\n  let {\n    container = document.documentElement\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let containerHandlers = onScrollHandlers.get(container);\n  if (!containerHandlers) {\n    containerHandlers = /* @__PURE__ */new Set();\n    onScrollHandlers.set(container, containerHandlers);\n  }\n  const containerHandler = new ScrollHandler(callback, container);\n  containerHandlers.add(containerHandler);\n  if (!scrollListeners.has(container)) {\n    const listener = () => {\n      containerHandlers?.forEach(handler => handler.advance());\n      return true;\n    };\n    scrollListeners.set(container, listener);\n    const target = getTarget(container);\n    window.addEventListener(\"resize\", listener, {\n      passive: true\n    });\n    if (container !== document.documentElement) {\n      resizeListeners.set(container, onResize(listener, {\n        container\n      }));\n    }\n    target.addEventListener(\"scroll\", listener, {\n      passive: true\n    });\n  }\n  const animateScroll = scrollListeners.get(container);\n  raf(animateScroll);\n  return () => {\n    raf.cancel(animateScroll);\n    const containerHandlers2 = onScrollHandlers.get(container);\n    if (!containerHandlers2) return;\n    containerHandlers2.delete(containerHandler);\n    if (containerHandlers2.size) return;\n    const listener = scrollListeners.get(container);\n    scrollListeners.delete(container);\n    if (listener) {\n      getTarget(container).removeEventListener(\"scroll\", listener);\n      window.removeEventListener(\"resize\", listener);\n      resizeListeners.get(container)?.();\n    }\n  };\n};\n\n// src/hooks/useConstant.ts\nimport { useRef } from \"react\";\nfunction useConstant(init) {\n  const ref = useRef(null);\n  if (ref.current === null) {\n    ref.current = init();\n  }\n  return ref.current;\n}\n\n// src/hooks/useForceUpdate.ts\nimport { useState } from \"react\";\n\n// src/hooks/useIsMounted.ts\nimport { useRef as useRef2 } from \"react\";\n\n// src/hooks/useIsomorphicLayoutEffect.ts\nimport { useEffect, useLayoutEffect } from \"react\";\nvar useIsomorphicLayoutEffect = isSSR() ? useEffect : useLayoutEffect;\n\n// src/hooks/useIsMounted.ts\nvar useIsMounted = () => {\n  const isMounted = useRef2(false);\n  useIsomorphicLayoutEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\n// src/hooks/useForceUpdate.ts\nfunction useForceUpdate() {\n  const update2 = useState()[1];\n  const isMounted = useIsMounted();\n  return () => {\n    if (isMounted.current) {\n      update2(Math.random());\n    }\n  };\n}\n\n// src/hooks/useMemoOne.ts\nimport { useEffect as useEffect2, useRef as useRef3, useState as useState2 } from \"react\";\nfunction useMemoOne(getResult, inputs) {\n  const [initial] = useState2(() => ({\n    inputs,\n    result: getResult()\n  }));\n  const committed = useRef3();\n  const prevCache = committed.current;\n  let cache = prevCache;\n  if (cache) {\n    const useCache = Boolean(inputs && cache.inputs && areInputsEqual(inputs, cache.inputs));\n    if (!useCache) {\n      cache = {\n        inputs,\n        result: getResult()\n      };\n    }\n  } else {\n    cache = initial;\n  }\n  useEffect2(() => {\n    committed.current = cache;\n    if (prevCache == initial) {\n      initial.inputs = initial.result = void 0;\n    }\n  }, [cache]);\n  return cache.result;\n}\nfunction areInputsEqual(next, prev) {\n  if (next.length !== prev.length) {\n    return false;\n  }\n  for (let i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// src/hooks/useOnce.ts\nimport { useEffect as useEffect3 } from \"react\";\nvar useOnce = effect => useEffect3(effect, emptyDeps);\nvar emptyDeps = [];\n\n// src/hooks/usePrev.ts\nimport { useEffect as useEffect4, useRef as useRef4 } from \"react\";\nfunction usePrev(value) {\n  const prevRef = useRef4();\n  useEffect4(() => {\n    prevRef.current = value;\n  });\n  return prevRef.current;\n}\n\n// src/hooks/useReducedMotion.ts\nimport { useState as useState3 } from \"react\";\nvar useReducedMotion = () => {\n  const [reducedMotion, setReducedMotion] = useState3(null);\n  useIsomorphicLayoutEffect(() => {\n    const mql = window.matchMedia(\"(prefers-reduced-motion)\");\n    const handleMediaChange = e => {\n      setReducedMotion(e.matches);\n      assign({\n        skipAnimation: e.matches\n      });\n    };\n    handleMediaChange(mql);\n    mql.addEventListener(\"change\", handleMediaChange);\n    return () => {\n      mql.removeEventListener(\"change\", handleMediaChange);\n    };\n  }, []);\n  return reducedMotion;\n};\nexport { FluidValue, globals_exports as Globals, addFluidObserver, callFluidObserver, callFluidObservers, clamp, colorToRgba, colors2 as colors, createInterpolator, createStringInterpolator2 as createStringInterpolator, defineHidden, deprecateDirectCall, deprecateInterpolate, each, eachProp, easings, flush, flushCalls, frameLoop, getFluidObservers, getFluidValue, hasFluidValue, hex3, hex4, hex6, hex8, hsl, hsla, is, isAnimatedString, isEqual, isSSR, noop, onResize, onScroll, once, prefix, raf, removeFluidObserver, rgb, rgba, setFluidGetter, toArray, useConstant, useForceUpdate, useIsomorphicLayoutEffect, useMemoOne, useOnce, usePrev, useReducedMotion };","map":{"version":3,"mappings":"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","names":["__export","assign","colors","createStringInterpolator","skipAnimation","to","willAdvance","updateQueue","makeQueue","raf","fn","schedule","writeQueue","write","onStartQueue","onStart","onFrameQueue","onFrame","onFinishQueue","onFinish","timeouts","setTimeout","handler","ms","time","now","cancel","i","findIndex","t","splice","pendingCount","timeout","findTimeout","start","length","delete","sync","batchedUpdates","throttle","lastArgs","queuedFn","throttled","args","nativeRaf","window","requestAnimationFrame","use","impl","performance","Date","catch","console","error","frameLoop","advance","warn","update","ts","queue","add","loop","stop","prevTs","count","eachSafely","flush","Math","min","next","Set","current","has","arg","size","values","each","forEach","value","e","noop","defineHidden","obj","key","Object","defineProperty","writable","configurable","is","arr","Array","isArray","a","constructor","name","fun","str","num","und","isEqual","b","eachProp","ctx","call","hasOwnProperty","toArray","iterator","items","from","clear","flushCalls","isSSR","navigator","test","userAgent","globals","startQueue","currentFrame","prevFrame","priority","idle","animation","flushStartQueue","startSafely","sort","prevIndex","indexOf","startUnsafely","includes","other","dt","nextFrame","push","index","clamp","max","v","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","NUMBER","PERCENTAGE","parts","join","rgb","RegExp","rgba","hsl","hsla","hex3","hex4","hex6","hex8","normalizeColor","color","match","exec","parseInt","parse255","parse1","hslToRgb","parse360","parsePercentage","hue2rgb","p","q","h","s","l","r","g","round","int","parseFloat","colorToRgba","input","int32Color","createInterpolator","range","output","extrapolate","config","outputRange","inputRange","extrapolateLeft","extrapolateRight","easing","findRange","interpolate","map","inputMin","inputMax","outputMin","outputMax","result","Infinity","steps","direction","progress","expanded","rounded","floor","ceil","c1","c2","c3","c4","PI","c5","bounceOut","x","n1","d1","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","pow","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","easeInElastic","easeOutElastic","easeInOutElastic","easeInBounce","easeOutBounce","easeInOutBounce","$get","Symbol","for","$observers","hasFluidValue","Boolean","getFluidValue","getFluidObservers","target","callFluidObserver","observer","event","eventObserved","callFluidObservers","observers","FluidValue","get","Error","setFluidGetter","setHidden","addFluidObserver","observerAdded","removeFluidObserver","observerRemoved","numberRegex","colorRegex","unitRegex","source","rgbaRegex","cssVariableRegex","variableToRgba","token","fallback","parseCSSVariable","getComputedStyle","document","documentElement","getPropertyValue","trim","startsWith","namedColorRegex","rgbaRound","_","p1","p2","p3","p4","keys","replace","keyframes","Number","outputRanges","interpolators","missingUnit","find","prefix","once","func","called","TypeError","warnInterpolate","deprecateInterpolate","warnDirectCall","deprecateDirectCall","isAnimatedString","resizeHandlers","WeakMap","handleObservation","entries","_ref","contentRect","resizeElement","ResizeObserver","elementHandlers","set","observe","unobserve","listeners","cleanupWindowResizeHandler","createResizeHandler","handleResize","callback","width","innerWidth","height","innerHeight","addEventListener","removeEventListener","resizeWindow","onResize","container","SCROLL_KEYS","position","y","ScrollHandler","createAxis","scrollLength","updateAxis","axisName","axis","info","sendEvent","scrollListeners","resizeListeners","onScrollHandlers","getTarget","onScroll","containerHandlers","containerHandler","listener","passive","animateScroll","useRef","useConstant","init","ref","useState","useEffect","useLayoutEffect","useIsomorphicLayoutEffect","useIsMounted","isMounted","useForceUpdate","random","useMemoOne","getResult","inputs","initial","committed","prevCache","cache","useCache","areInputsEqual","prev","useOnce","effect","emptyDeps","usePrev","prevRef","useReducedMotion","reducedMotion","setReducedMotion","mql","matchMedia","handleMediaChange","matches"],"sources":["D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\globals.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\rafz\\src\\index.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\helpers.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\FrameLoop.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\clamp.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\colors.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\colorMatchers.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\normalizeColor.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\colorToRgba.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\createInterpolator.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\easings.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\fluids.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\regexs.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\variableToRgba.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\stringInterpolation.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\deprecations.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\isAnimatedString.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\dom-events\\resize\\resizeElement.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\dom-events\\resize\\resizeWindow.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\dom-events\\resize\\index.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\progress.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\dom-events\\scroll\\ScrollHandler.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\dom-events\\scroll\\index.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\hooks\\useConstant.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\hooks\\useForceUpdate.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\hooks\\useIsMounted.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\hooks\\useIsomorphicLayoutEffect.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\hooks\\useMemoOne.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\hooks\\useOnce.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\hooks\\usePrev.ts","D:\\Web\\aqua-frontend\\node_modules\\@react-spring\\shared\\src\\hooks\\useReducedMotion.ts"],"sourcesContent":["import { raf, Rafz } from '@react-spring/rafz'\nimport {\n  OneOrMore,\n  InterpolatorConfig,\n  InterpolatorArgs,\n} from '@react-spring/types'\n\nimport { FluidValue } from './fluids'\nimport type { OpaqueAnimation } from './FrameLoop'\nimport { noop } from './helpers'\n\n//\n// Required\n//\n\nexport let createStringInterpolator: (\n  config: InterpolatorConfig<string>\n) => (input: number) => string\n\n//\n// Optional\n//\n\nexport let to: <Input, Output>(\n  source: OneOrMore<FluidValue>,\n  args: InterpolatorArgs<Input, Output>\n) => FluidValue<Output>\n\nexport let colors = null as { [key: string]: number } | null\n\nexport let skipAnimation = false as boolean\n\nexport let willAdvance: (animation: OpaqueAnimation) => void = noop\n\n//\n// Configuration\n//\n\nexport interface AnimatedGlobals {\n  /** Returns a new `Interpolation` object */\n  to?: typeof to\n  /** Used to measure frame length. Read more [here](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) */\n  now?: typeof raf.now\n  /** Provide custom color names for interpolation */\n  colors?: typeof colors\n  /** Make all animations instant and skip the frameloop entirely */\n  skipAnimation?: typeof skipAnimation\n  /** Provide custom logic for string interpolation */\n  createStringInterpolator?: typeof createStringInterpolator\n  /** Schedule a function to run on the next frame */\n  requestAnimationFrame?: (cb: () => void) => void\n  /** Event props are called with `batchedUpdates` to reduce extraneous renders */\n  batchedUpdates?: typeof raf.batchedUpdates\n  /** @internal Exposed for testing purposes */\n  willAdvance?: typeof willAdvance\n  /** sets the global frameLoop setting for the global raf instance */\n  frameLoop?: Rafz['frameLoop']\n}\n\nexport const assign = (globals: AnimatedGlobals) => {\n  if (globals.to) to = globals.to\n  if (globals.now) raf.now = globals.now\n  if (globals.colors !== undefined) colors = globals.colors\n  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation\n  if (globals.createStringInterpolator)\n    createStringInterpolator = globals.createStringInterpolator\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame)\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates\n  if (globals.willAdvance) willAdvance = globals.willAdvance\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop\n}\n","import type {\n  FrameFn,\n  FrameUpdateFn,\n  NativeRaf,\n  Rafz,\n  Timeout,\n  Throttled,\n} from './types'\n\nexport type { FrameFn, FrameUpdateFn, Timeout, Throttled, Rafz }\n\nlet updateQueue = makeQueue<FrameUpdateFn>()\n\n/**\n * Schedule an update for next frame.\n * Your function can return `true` to repeat next frame.\n */\nexport const raf: Rafz = fn => schedule(fn, updateQueue)\n\nlet writeQueue = makeQueue<FrameFn>()\nraf.write = fn => schedule(fn, writeQueue)\n\nlet onStartQueue = makeQueue<FrameFn>()\nraf.onStart = fn => schedule(fn, onStartQueue)\n\nlet onFrameQueue = makeQueue<FrameFn>()\nraf.onFrame = fn => schedule(fn, onFrameQueue)\n\nlet onFinishQueue = makeQueue<FrameFn>()\nraf.onFinish = fn => schedule(fn, onFinishQueue)\n\nlet timeouts: Timeout[] = []\nraf.setTimeout = (handler, ms) => {\n  const time = raf.now() + ms\n  const cancel = () => {\n    const i = timeouts.findIndex(t => t.cancel == cancel)\n    if (~i) timeouts.splice(i, 1)\n    pendingCount -= ~i ? 1 : 0\n  }\n\n  const timeout: Timeout = { time, handler, cancel }\n  timeouts.splice(findTimeout(time), 0, timeout)\n  pendingCount += 1\n\n  start()\n  return timeout\n}\n\n/** Find the index where the given time is not greater. */\nconst findTimeout = (time: number) =>\n  ~(~timeouts.findIndex(t => t.time > time) || ~timeouts.length)\n\nraf.cancel = fn => {\n  onStartQueue.delete(fn)\n  onFrameQueue.delete(fn)\n  onFinishQueue.delete(fn)\n  updateQueue.delete(fn)\n  writeQueue.delete(fn)\n}\n\nraf.sync = fn => {\n  sync = true\n  raf.batchedUpdates(fn)\n  sync = false\n}\n\nraf.throttle = fn => {\n  let lastArgs: any\n  function queuedFn() {\n    try {\n      fn(...lastArgs)\n    } finally {\n      lastArgs = null\n    }\n  }\n  function throttled(...args: any) {\n    lastArgs = args\n    raf.onStart(queuedFn)\n  }\n  throttled.handler = fn\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn)\n    lastArgs = null\n  }\n  return throttled as any\n}\n\nlet nativeRaf =\n  typeof window != 'undefined'\n    ? (window.requestAnimationFrame as NativeRaf)\n    : // eslint-disable-next-line @typescript-eslint/no-empty-function\n      () => {}\n\nraf.use = impl => (nativeRaf = impl)\nraf.now = typeof performance != 'undefined' ? () => performance.now() : Date.now\nraf.batchedUpdates = fn => fn()\nraf.catch = console.error\n\nraf.frameLoop = 'always'\n\nraf.advance = () => {\n  if (raf.frameLoop !== 'demand') {\n    console.warn(\n      'Cannot call the manual advancement of rafz whilst frameLoop is not set as demand'\n    )\n  } else {\n    update()\n  }\n}\n\n/** The most recent timestamp. */\nlet ts = -1\n\n/** The number of pending tasks  */\nlet pendingCount = 0\n\n/** When true, scheduling is disabled. */\nlet sync = false\n\nfunction schedule<T extends Function>(fn: T, queue: Queue<T>) {\n  if (sync) {\n    queue.delete(fn)\n    fn(0)\n  } else {\n    queue.add(fn)\n    start()\n  }\n}\n\nfunction start() {\n  if (ts < 0) {\n    ts = 0\n    if (raf.frameLoop !== 'demand') {\n      nativeRaf(loop)\n    }\n  }\n}\n\nfunction stop() {\n  ts = -1\n}\n\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop)\n    raf.batchedUpdates(update)\n  }\n}\n\nfunction update() {\n  const prevTs = ts\n  ts = raf.now()\n\n  // Flush timeouts whose time is up.\n  const count = findTimeout(ts)\n  if (count) {\n    eachSafely(timeouts.splice(0, count), t => t.handler())\n    pendingCount -= count\n  }\n\n  if (!pendingCount) {\n    stop()\n\n    return\n  }\n\n  onStartQueue.flush()\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667)\n  onFrameQueue.flush()\n  writeQueue.flush()\n  onFinishQueue.flush()\n}\n\ninterface Queue<T extends Function = any> {\n  add: (fn: T) => void\n  delete: (fn: T) => boolean\n  flush: (arg?: any) => void\n}\n\nfunction makeQueue<T extends Function>(): Queue<T> {\n  let next = new Set<T>()\n  let current = next\n  return {\n    add(fn) {\n      pendingCount += current == next && !next.has(fn) ? 1 : 0\n      next.add(fn)\n    },\n    delete(fn) {\n      pendingCount -= current == next && next.has(fn) ? 1 : 0\n      return next.delete(fn)\n    },\n    flush(arg) {\n      if (current.size) {\n        next = new Set()\n        pendingCount -= current.size\n        eachSafely(current, fn => fn(arg) && next.add(fn))\n        pendingCount += next.size\n        current = next\n      }\n    },\n  }\n}\n\ninterface Eachable<T> {\n  forEach(cb: (value: T) => void): void\n}\n\nfunction eachSafely<T>(values: Eachable<T>, each: (value: T) => void) {\n  values.forEach(value => {\n    try {\n      each(value)\n    } catch (e) {\n      raf.catch(e as Error)\n    }\n  })\n}\n\n/** Tree-shakable state for testing purposes */\nexport const __raf = {\n  /** The number of pending tasks */\n  count(): number {\n    return pendingCount\n  },\n  /** Whether there's a raf update loop running */\n  isRunning(): boolean {\n    return ts >= 0\n  },\n  /** Clear internal state. Never call from update loop! */\n  clear() {\n    ts = -1\n    timeouts = []\n    onStartQueue = makeQueue()\n    updateQueue = makeQueue()\n    onFrameQueue = makeQueue()\n    writeQueue = makeQueue()\n    onFinishQueue = makeQueue()\n    pendingCount = 0\n  },\n}\n","import { Lookup, Arrify, AnyFn, Any } from '@react-spring/types'\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n\nexport const defineHidden = (obj: any, key: any, value: any) =>\n  Object.defineProperty(obj, key, { value, writable: true, configurable: true })\n\ntype IsType<U> = <T>(arg: T & any) => arg is Narrow<T, U>\ntype Narrow<T, U> = [T] extends [Any] ? U : [T] extends [U] ? Extract<T, U> : U\n\ntype PlainObject<T> = Exclude<T & Lookup, Function | readonly any[]>\n\nexport const is = {\n  arr: Array.isArray as IsType<readonly any[]>,\n  obj: <T>(a: T & any): a is PlainObject<T> =>\n    !!a && a.constructor.name === 'Object',\n  fun: ((a: unknown) => typeof a === 'function') as IsType<Function>,\n  str: (a: unknown): a is string => typeof a === 'string',\n  num: (a: unknown): a is number => typeof a === 'number',\n  und: (a: unknown): a is undefined => a === undefined,\n}\n\n/** Compare animatable values */\nexport function isEqual(a: any, b: any) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false\n    }\n    return true\n  }\n  return a === b\n}\n\ntype EachFn<Value, Key, This> = (this: This, value: Value, key: Key) => void\ntype Eachable<Value = any, Key = any, This = any> = {\n  forEach(cb: EachFn<Value, Key, This>, ctx?: This): void\n}\n\n/** Minifiable `.forEach` call */\nexport const each = <Value, Key, This>(\n  obj: Eachable<Value, Key, This>,\n  fn: EachFn<Value, Key, This>\n) => obj.forEach(fn)\n\n/** Iterate the properties of an object */\nexport function eachProp<T extends object, This>(\n  obj: T,\n  fn: (\n    this: This,\n    value: T extends any[] ? T[number] : T[keyof T],\n    key: string\n  ) => void,\n  ctx?: This\n) {\n  if (is.arr(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      fn.call(ctx as any, obj[i] as any, `${i}`)\n    }\n    return\n  }\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx as any, obj[key] as any, key)\n    }\n  }\n}\n\nexport const toArray = <T>(a: T): Arrify<Exclude<T, void>> =>\n  is.und(a) ? [] : is.arr(a) ? (a as any) : [a]\n\n/** Copy the `queue`, then iterate it after the `queue` is cleared */\nexport function flush<P, T>(\n  queue: Map<P, T>,\n  iterator: (entry: [P, T]) => void\n): void\nexport function flush<T>(queue: Set<T>, iterator: (value: T) => void): void\nexport function flush(queue: any, iterator: any) {\n  if (queue.size) {\n    const items = Array.from(queue)\n    queue.clear()\n    each(items, iterator)\n  }\n}\n\n/** Call every function in the queue with the same arguments. */\nexport const flushCalls = <T extends AnyFn>(\n  queue: Set<T>,\n  ...args: Parameters<T>\n) => flush(queue, fn => fn(...args))\n\n// For server-side rendering: https://github.com/react-spring/zustand/pull/34\n// Deno support: https://github.com/pmndrs/zustand/issues/347\n\nexport const isSSR = () =>\n  typeof window === 'undefined' ||\n  !window.navigator ||\n  /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent)\n","import { raf } from '@react-spring/rafz'\nimport * as G from './globals'\n\nexport interface OpaqueAnimation {\n  idle: boolean\n  priority: number\n  advance(dt: number): void\n}\n\n// Animations starting on the next frame\nconst startQueue = new Set<OpaqueAnimation>()\n\n// The animations being updated in the current frame, sorted by lowest\n// priority first. These two arrays are swapped at the end of each frame.\nlet currentFrame: OpaqueAnimation[] = []\nlet prevFrame: OpaqueAnimation[] = []\n\n// The priority of the currently advancing animation.\n// To protect against a race condition whenever a frame is being processed,\n// where the filtering of `animations` is corrupted with a shifting index,\n// causing animations to potentially advance 2x faster than intended.\nlet priority = 0\n\n/**\n * The frameloop executes its animations in order of lowest priority first.\n * Animations are retained until idle.\n */\nexport const frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length\n  },\n\n  /** Advance the given animation on every frame until idle. */\n  start(animation: OpaqueAnimation) {\n    // An animation can be added while a frame is being processed,\n    // unless its priority is lower than the animation last updated.\n    if (priority > animation.priority) {\n      startQueue.add(animation)\n      raf.onStart(flushStartQueue)\n    } else {\n      startSafely(animation)\n      raf(advance)\n    }\n  },\n\n  /** Advance all animations by the given time. */\n  advance,\n\n  /** Call this when an animation's priority changes. */\n  sort(animation: OpaqueAnimation) {\n    if (priority) {\n      raf.onFrame(() => frameLoop.sort(animation))\n    } else {\n      const prevIndex = currentFrame.indexOf(animation)\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1)\n        startUnsafely(animation)\n      }\n    }\n  },\n\n  /**\n   * Clear all animations. For testing purposes.\n   *\n   * ☠️ Never call this from within the frameloop.\n   */\n  clear() {\n    currentFrame = []\n    startQueue.clear()\n  },\n}\n\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely)\n  startQueue.clear()\n  raf(advance)\n}\n\nfunction startSafely(animation: OpaqueAnimation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation)\n}\n\nfunction startUnsafely(animation: OpaqueAnimation) {\n  currentFrame.splice(\n    findIndex(currentFrame, other => other.priority > animation.priority),\n    0,\n    animation\n  )\n}\n\nfunction advance(dt: number) {\n  const nextFrame = prevFrame\n\n  for (let i = 0; i < currentFrame.length; i++) {\n    const animation = currentFrame[i]\n    priority = animation.priority\n\n    // Animations may go idle before advancing.\n    if (!animation.idle) {\n      G.willAdvance(animation)\n      animation.advance(dt)\n      if (!animation.idle) {\n        nextFrame.push(animation)\n      }\n    }\n  }\n  priority = 0\n\n  // Reuse the `currentFrame` array to avoid garbage collection.\n  prevFrame = currentFrame\n  prevFrame.length = 0\n\n  // Set `currentFrame` for next frame, so the `start` function\n  // adds new animations to the proper array.\n  currentFrame = nextFrame\n\n  return currentFrame.length > 0\n}\n\n/** Like `Array.prototype.findIndex` but returns `arr.length` instead of `-1` */\nfunction findIndex<T>(arr: T[], test: (value: T) => boolean) {\n  const index = arr.findIndex(test)\n  return index < 0 ? arr.length : index\n}\n","export const clamp = (min: number, max: number, v: number) =>\n  Math.min(Math.max(v, min), max)\n","export type ColorName = keyof typeof colors\n\n// http://www.w3.org/TR/css3-color/#svg-color\nexport const colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff,\n}\n","// const INTEGER = '[-+]?\\\\d+';\nconst NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+'\nconst PERCENTAGE = NUMBER + '%'\n\nfunction call(...parts: string[]) {\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)'\n}\n\nexport const rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER))\nexport const rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER))\nexport const hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE))\nexport const hsla = new RegExp(\n  'hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER)\n)\nexport const hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/\nexport const hex4 =\n  /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/\nexport const hex6 = /^#([0-9a-fA-F]{6})$/\nexport const hex8 = /^#([0-9a-fA-F]{8})$/\n","/*\nhttps://github.com/react-community/normalize-css-color\n\nBSD 3-Clause License\n\nCopyright (c) 2016, React Community\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport * as matchers from './colorMatchers'\nimport * as G from './globals'\n\nexport function normalizeColor(color: number | string) {\n  let match\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff\n      ? color\n      : null\n  }\n\n  // Ordered based on occurrences on Facebook codebase\n  if ((match = matchers.hex6.exec(color)))\n    return parseInt(match[1] + 'ff', 16) >>> 0\n\n  if (G.colors && G.colors[color] !== undefined) {\n    return G.colors[color]\n  }\n\n  if ((match = matchers.rgb.exec(color))) {\n    return (\n      ((parse255(match[1]) << 24) | // r\n        (parse255(match[2]) << 16) | // g\n        (parse255(match[3]) << 8) | // b\n        0x000000ff) >>> // a\n      0\n    )\n  }\n\n  if ((match = matchers.rgba.exec(color))) {\n    return (\n      ((parse255(match[1]) << 24) | // r\n        (parse255(match[2]) << 16) | // g\n        (parse255(match[3]) << 8) | // b\n        parse1(match[4])) >>> // a\n      0\n    )\n  }\n\n  if ((match = matchers.hex3.exec(color))) {\n    return (\n      parseInt(\n        match[1] +\n          match[1] + // r\n          match[2] +\n          match[2] + // g\n          match[3] +\n          match[3] + // b\n          'ff', // a\n        16\n      ) >>> 0\n    )\n  }\n\n  // https://drafts.csswg.org/css-color-4/#hex-notation\n  if ((match = matchers.hex8.exec(color))) return parseInt(match[1], 16) >>> 0\n\n  if ((match = matchers.hex4.exec(color))) {\n    return (\n      parseInt(\n        match[1] +\n          match[1] + // r\n          match[2] +\n          match[2] + // g\n          match[3] +\n          match[3] + // b\n          match[4] +\n          match[4], // a\n        16\n      ) >>> 0\n    )\n  }\n\n  if ((match = matchers.hsl.exec(color))) {\n    return (\n      (hslToRgb(\n        parse360(match[1]), // h\n        parsePercentage(match[2]), // s\n        parsePercentage(match[3]) // l\n      ) |\n        0x000000ff) >>> // a\n      0\n    )\n  }\n\n  if ((match = matchers.hsla.exec(color))) {\n    return (\n      (hslToRgb(\n        parse360(match[1]), // h\n        parsePercentage(match[2]), // s\n        parsePercentage(match[3]) // l\n      ) |\n        parse1(match[4])) >>> // a\n      0\n    )\n  }\n  return null\n}\n\nfunction hue2rgb(p: number, q: number, t: number) {\n  if (t < 0) t += 1\n  if (t > 1) t -= 1\n  if (t < 1 / 6) return p + (q - p) * 6 * t\n  if (t < 1 / 2) return q\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\n  return p\n}\n\nfunction hslToRgb(h: number, s: number, l: number) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s\n  const p = 2 * l - q\n  const r = hue2rgb(p, q, h + 1 / 3)\n  const g = hue2rgb(p, q, h)\n  const b = hue2rgb(p, q, h - 1 / 3)\n  return (\n    (Math.round(r * 255) << 24) |\n    (Math.round(g * 255) << 16) |\n    (Math.round(b * 255) << 8)\n  )\n}\n\nfunction parse255(str: string) {\n  const int = parseInt(str, 10)\n  if (int < 0) return 0\n  if (int > 255) return 255\n  return int\n}\n\nfunction parse360(str: string) {\n  const int = parseFloat(str)\n  return (((int % 360) + 360) % 360) / 360\n}\n\nfunction parse1(str: string) {\n  const num = parseFloat(str)\n  if (num < 0) return 0\n  if (num > 1) return 255\n  return Math.round(num * 255)\n}\n\nfunction parsePercentage(str: string) {\n  // parseFloat conveniently ignores the final %\n  const int = parseFloat(str)\n  if (int < 0) return 0\n  if (int > 100) return 1\n  return int / 100\n}\n","import { normalizeColor } from './normalizeColor'\n\nexport function colorToRgba(input: string) {\n  let int32Color = normalizeColor(input)\n  if (int32Color === null) return input\n  int32Color = int32Color || 0\n  const r = (int32Color & 0xff000000) >>> 24\n  const g = (int32Color & 0x00ff0000) >>> 16\n  const b = (int32Color & 0x0000ff00) >>> 8\n  const a = (int32Color & 0x000000ff) / 255\n  return `rgba(${r}, ${g}, ${b}, ${a})`\n}\n","import * as G from './globals'\nimport { is } from './helpers'\nimport {\n  Animatable,\n  InterpolatorFn,\n  EasingFunction,\n  ExtrapolateType,\n  InterpolatorConfig,\n  InterpolatorFactory,\n} from '@react-spring/types'\n\nexport const createInterpolator: InterpolatorFactory = (\n  range: readonly number[] | InterpolatorFn<any, any> | InterpolatorConfig<any>,\n  output?: readonly Animatable[],\n  extrapolate?: ExtrapolateType\n) => {\n  if (is.fun(range)) {\n    return range\n  }\n\n  if (is.arr(range)) {\n    return createInterpolator({\n      range,\n      output: output!,\n      extrapolate,\n    })\n  }\n\n  if (is.str(range.output[0])) {\n    return G.createStringInterpolator(range as any) as any\n  }\n\n  const config = range as InterpolatorConfig<number>\n  const outputRange = config.output\n  const inputRange = config.range || [0, 1]\n\n  const extrapolateLeft =\n    config.extrapolateLeft || config.extrapolate || 'extend'\n  const extrapolateRight =\n    config.extrapolateRight || config.extrapolate || 'extend'\n  const easing = config.easing || (t => t)\n\n  return (input: number) => {\n    const range = findRange(input, inputRange)\n    return interpolate(\n      input,\n      inputRange[range],\n      inputRange[range + 1],\n      outputRange[range],\n      outputRange[range + 1],\n      easing,\n      extrapolateLeft,\n      extrapolateRight,\n      config.map\n    )\n  }\n}\n\nfunction interpolate(\n  input: number,\n  inputMin: number,\n  inputMax: number,\n  outputMin: number,\n  outputMax: number,\n  easing: EasingFunction,\n  extrapolateLeft: ExtrapolateType,\n  extrapolateRight: ExtrapolateType,\n  map?: (x: number) => number\n) {\n  let result = map ? map(input) : input\n  // Extrapolate\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result\n    else if (extrapolateLeft === 'clamp') result = inputMin\n  }\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result\n    else if (extrapolateRight === 'clamp') result = inputMax\n  }\n  if (outputMin === outputMax) return outputMin\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax\n  // Input Range\n  if (inputMin === -Infinity) result = -result\n  else if (inputMax === Infinity) result = result - inputMin\n  else result = (result - inputMin) / (inputMax - inputMin)\n  // Easing\n  result = easing(result)\n  // Output Range\n  if (outputMin === -Infinity) result = -result\n  else if (outputMax === Infinity) result = result + outputMin\n  else result = result * (outputMax - outputMin) + outputMin\n  return result\n}\n\nfunction findRange(input: number, inputRange: readonly number[]) {\n  // eslint-disable-next-line no-var\n  for (var i = 1; i < inputRange.length - 1; ++i)\n    if (inputRange[i] >= input) break\n  return i - 1\n}\n","import { EasingFunction } from '@react-spring/types'\n\nimport { clamp } from './clamp'\n\nexport type Direction = 'start' | 'end'\n\ntype StepsEasing = (steps: number, direction?: Direction) => EasingFunction\n\nconst steps: StepsEasing =\n  (steps: number, direction: Direction = 'end') =>\n  (progress: number) => {\n    progress =\n      direction === 'end'\n        ? Math.min(progress, 0.999)\n        : Math.max(progress, 0.001)\n    const expanded = progress * steps\n    const rounded =\n      direction === 'end' ? Math.floor(expanded) : Math.ceil(expanded)\n\n    return clamp(0, 1, rounded / steps)\n  }\n\n/**\n * With thanks to ai easings.net\n * https://github.com/ai/easings.net/blob/master/src/easings/easingsFunctions.ts\n */\ninterface EasingDictionary {\n  linear: (t: number) => number\n  easeInQuad: (t: number) => number\n  easeOutQuad: (t: number) => number\n  easeInOutQuad: (t: number) => number\n  easeInCubic: (t: number) => number\n  easeOutCubic: (t: number) => number\n  easeInOutCubic: (t: number) => number\n  easeInQuart: (t: number) => number\n  easeOutQuart: (t: number) => number\n  easeInOutQuart: (t: number) => number\n  easeInQuint: (t: number) => number\n  easeOutQuint: (t: number) => number\n  easeInOutQuint: (t: number) => number\n  easeInSine: (t: number) => number\n  easeOutSine: (t: number) => number\n  easeInOutSine: (t: number) => number\n  easeInExpo: (t: number) => number\n  easeOutExpo: (t: number) => number\n  easeInOutExpo: (t: number) => number\n  easeInCirc: (t: number) => number\n  easeOutCirc: (t: number) => number\n  easeInOutCirc: (t: number) => number\n  easeInBack: (t: number) => number\n  easeOutBack: (t: number) => number\n  easeInOutBack: (t: number) => number\n  easeInElastic: (t: number) => number\n  easeOutElastic: (t: number) => number\n  easeInOutElastic: (t: number) => number\n  easeInBounce: (t: number) => number\n  easeOutBounce: (t: number) => number\n  easeInOutBounce: (t: number) => number\n  steps: StepsEasing\n}\n\nconst c1 = 1.70158\nconst c2 = c1 * 1.525\nconst c3 = c1 + 1\nconst c4 = (2 * Math.PI) / 3\nconst c5 = (2 * Math.PI) / 4.5\n\nconst bounceOut: EasingFunction = x => {\n  const n1 = 7.5625\n  const d1 = 2.75\n\n  if (x < 1 / d1) {\n    return n1 * x * x\n  } else if (x < 2 / d1) {\n    return n1 * (x -= 1.5 / d1) * x + 0.75\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= 2.25 / d1) * x + 0.9375\n  } else {\n    return n1 * (x -= 2.625 / d1) * x + 0.984375\n  }\n}\n\nexport const easings: EasingDictionary = {\n  linear: x => x,\n  easeInQuad: x => x * x,\n  easeOutQuad: x => 1 - (1 - x) * (1 - x),\n  easeInOutQuad: x => (x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2),\n  easeInCubic: x => x * x * x,\n  easeOutCubic: x => 1 - Math.pow(1 - x, 3),\n  easeInOutCubic: x =>\n    x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,\n  easeInQuart: x => x * x * x * x,\n  easeOutQuart: x => 1 - Math.pow(1 - x, 4),\n  easeInOutQuart: x =>\n    x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,\n  easeInQuint: x => x * x * x * x * x,\n  easeOutQuint: x => 1 - Math.pow(1 - x, 5),\n  easeInOutQuint: x =>\n    x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,\n  easeInSine: x => 1 - Math.cos((x * Math.PI) / 2),\n  easeOutSine: x => Math.sin((x * Math.PI) / 2),\n  easeInOutSine: x => -(Math.cos(Math.PI * x) - 1) / 2,\n  easeInExpo: x => (x === 0 ? 0 : Math.pow(2, 10 * x - 10)),\n  easeOutExpo: x => (x === 1 ? 1 : 1 - Math.pow(2, -10 * x)),\n  easeInOutExpo: x =>\n    x === 0\n      ? 0\n      : x === 1\n      ? 1\n      : x < 0.5\n      ? Math.pow(2, 20 * x - 10) / 2\n      : (2 - Math.pow(2, -20 * x + 10)) / 2,\n  easeInCirc: x => 1 - Math.sqrt(1 - Math.pow(x, 2)),\n  easeOutCirc: x => Math.sqrt(1 - Math.pow(x - 1, 2)),\n  easeInOutCirc: x =>\n    x < 0.5\n      ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2\n      : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2,\n  easeInBack: x => c3 * x * x * x - c1 * x * x,\n  easeOutBack: x => 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),\n  easeInOutBack: x =>\n    x < 0.5\n      ? (Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2)) / 2\n      : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2,\n  easeInElastic: x =>\n    x === 0\n      ? 0\n      : x === 1\n      ? 1\n      : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4),\n  easeOutElastic: x =>\n    x === 0\n      ? 0\n      : x === 1\n      ? 1\n      : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1,\n  easeInOutElastic: x =>\n    x === 0\n      ? 0\n      : x === 1\n      ? 1\n      : x < 0.5\n      ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2\n      : (Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5)) / 2 + 1,\n  easeInBounce: x => 1 - bounceOut(1 - x),\n  easeOutBounce: bounceOut,\n  easeInOutBounce: x =>\n    x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2,\n  steps,\n} as const\n","/**\n * MIT License\n * Copyright (c) Alec Larson\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst $get = Symbol.for('FluidValue.get')\nconst $observers = Symbol.for('FluidValue.observers')\n\nexport {\n  FluidValue,\n  hasFluidValue,\n  getFluidValue,\n  getFluidObservers,\n  callFluidObserver,\n  callFluidObservers,\n  // Mutations\n  setFluidGetter,\n  addFluidObserver,\n  removeFluidObserver,\n}\n\n/** Returns true if `arg` can be observed. */\nconst hasFluidValue = (arg: any): arg is FluidValue => Boolean(arg && arg[$get])\n\n/**\n * Get the current value.\n * If `arg` is not observable, `arg` is returned.\n */\nconst getFluidValue: GetFluidValue = (arg: any) =>\n  arg && arg[$get] ? arg[$get]() : arg\n\n/** Get the current observer set. Never mutate it directly! */\nconst getFluidObservers: GetFluidObservers = (target: any) =>\n  target[$observers] || null\n\n/** Send an event to an observer. */\nfunction callFluidObserver<E extends FluidEvent>(\n  observer: FluidObserver<E>,\n  event: E\n): void\n\nfunction callFluidObserver(observer: any, event: FluidEvent) {\n  if (observer.eventObserved) {\n    observer.eventObserved(event)\n  } else {\n    observer(event)\n  }\n}\n\n/** Send an event to all observers. */\nfunction callFluidObservers<E extends FluidEvent>(\n  target: FluidValue<any, E>,\n  event: E\n): void\n\nfunction callFluidObservers(target: object, event: FluidEvent): void\n\nfunction callFluidObservers(target: any, event: FluidEvent) {\n  const observers: Set<FluidObserver> = target[$observers]\n  if (observers) {\n    observers.forEach(observer => {\n      callFluidObserver(observer, event)\n    })\n  }\n}\n\ntype GetFluidValue = {\n  <T, U = never>(target: T | FluidValue<U>): Exclude<T, FluidValue> | U\n}\n\ntype GetFluidObservers = {\n  <E extends FluidEvent>(target: FluidValue<any, E>): ReadonlySet<\n    FluidObserver<E>\n  > | null\n  (target: object): ReadonlySet<FluidObserver> | null\n}\n\n/** An event sent to `FluidObserver` objects. */\nexport interface FluidEvent<T = any> {\n  type: string\n  parent: FluidValue<T>\n}\n\n/**\n * Extend this class for automatic TypeScript support when passing this\n * value to `fluids`-compatible libraries.\n */\nabstract class FluidValue<T = any, E extends FluidEvent<T> = any> {\n  // @ts-expect-error (TS 4.4)\n  private [$get]: () => T\n  // @ts-expect-error (TS 4.4)\n  private [$observers]?: Set<FluidObserver<E>>\n\n  constructor(get?: () => T) {\n    if (!get && !(get = this.get)) {\n      throw Error('Unknown getter')\n    }\n    setFluidGetter(this, get)\n  }\n\n  /** Get the current value. */\n  protected get?(): T\n  /** Called after an observer is added. */\n  protected observerAdded?(count: number, observer: FluidObserver<E>): void\n  /** Called after an observer is removed. */\n  protected observerRemoved?(count: number, observer: FluidObserver<E>): void\n}\n\n/** An observer of `FluidValue` objects. */\nexport type FluidObserver<E extends FluidEvent = any> =\n  | { eventObserved(event: E): void }\n  | { (event: E): void }\n\n/** Add the `FluidValue` type to every property. */\nexport type FluidProps<T> = T extends object\n  ? { [P in keyof T]: T[P] | FluidValue<Exclude<T[P], void>> }\n  : unknown\n\n/** Remove the `FluidValue` type from every property. */\nexport type StaticProps<T extends object> = {\n  [P in keyof T]: T[P] extends FluidValue<infer U> ? U : T[P]\n}\n\n/** Define the getter called by `getFluidValue`. */\nconst setFluidGetter = (target: object, get: () => any) =>\n  setHidden(target, $get, get)\n\n/** Observe a `fluids`-compatible object. */\nfunction addFluidObserver<T, E extends FluidEvent>(\n  target: FluidValue<T, E>,\n  observer: FluidObserver<E>\n): typeof observer\n\nfunction addFluidObserver<E extends FluidEvent>(\n  target: object,\n  observer: FluidObserver<E>\n): typeof observer\n\nfunction addFluidObserver(target: any, observer: FluidObserver) {\n  if (target[$get]) {\n    let observers: Set<FluidObserver> = target[$observers]\n    if (!observers) {\n      setHidden(target, $observers, (observers = new Set()))\n    }\n    if (!observers.has(observer)) {\n      observers.add(observer)\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer)\n      }\n    }\n  }\n  return observer\n}\n\n/** Stop observing a `fluids`-compatible object. */\nfunction removeFluidObserver<E extends FluidEvent>(\n  target: FluidValue<any, E>,\n  observer: FluidObserver<E>\n): void\n\nfunction removeFluidObserver<E extends FluidEvent>(\n  target: object,\n  observer: FluidObserver<E>\n): void\n\nfunction removeFluidObserver(target: any, observer: FluidObserver) {\n  const observers: Set<FluidObserver> = target[$observers]\n  if (observers && observers.has(observer)) {\n    const count = observers.size - 1\n    if (count) {\n      observers.delete(observer)\n    } else {\n      target[$observers] = null\n    }\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer)\n    }\n  }\n}\n\nconst setHidden = (target: any, key: any, value: any) =>\n  Object.defineProperty(target, key, {\n    value,\n    writable: true,\n    configurable: true,\n  })\n","// Problem: https://github.com/animatedjs/animated/pull/102\n// Solution: https://stackoverflow.com/questions/638565/parsing-scientific-notation-sensibly/658662\nexport const numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g\n\n// Covers rgb, rgba, hsl, hsla\n// Taken from https://gist.github.com/olmokramer/82ccce673f86db7cda5e\nexport const colorRegex =\n  /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi\n\n// Gets numbers with units when specified\nexport const unitRegex = new RegExp(`(${numberRegex.source})(%|[a-z]+)`, 'i')\n\n// get values of rgba string\nexport const rgbaRegex =\n  /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi\n\n/**\n * Parse special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n */\nexport const cssVariableRegex =\n  /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/\n","import { isSSR } from './helpers'\nimport { cssVariableRegex } from './regexs'\n\n/**\n * takes a CSS variable and attempts\n * to turn it into a RGBA value\n *\n * ```\n * 'var(--white)' => 'rgba(255,255,255,1)'\n * ```\n *\n * @param input string\n * @returns string\n */\nexport const variableToRgba = (input: string): string => {\n  const [token, fallback] = parseCSSVariable(input)\n\n  if (!token || isSSR()) {\n    return input\n  }\n\n  const value = window\n    .getComputedStyle(document.documentElement)\n    .getPropertyValue(token)\n\n  if (value) {\n    /**\n     * We have a valid variable returned\n     * trim and return\n     */\n    return value.trim()\n  } else if (fallback && fallback.startsWith('--')) {\n    /**\n     * fallback is something like --my-variable\n     * so we try get property value\n     */\n    const value = window\n      .getComputedStyle(document.documentElement)\n      .getPropertyValue(fallback)\n\n    /**\n     * if it exists, return else nothing was found so just return the input\n     */\n    if (value) {\n      return value\n    } else {\n      return input\n    }\n  } else if (fallback && cssVariableRegex.test(fallback)) {\n    /**\n     * We have a fallback and it's another CSS variable\n     */\n    return variableToRgba(fallback)\n  } else if (fallback) {\n    /**\n     * We have a fallback and it's not a CSS variable\n     */\n    return fallback\n  }\n\n  /**\n   * Nothing worked so just return the input\n   * like our other FluidValue replace functions do\n   */\n  return input\n}\n\nconst parseCSSVariable = (current: string) => {\n  const match = cssVariableRegex.exec(current)\n  if (!match) return [,]\n\n  const [, token, fallback] = match\n  return [token, fallback]\n}\n","import { InterpolatorConfig } from '@react-spring/types'\n\nimport { getFluidValue } from './fluids'\nimport { createInterpolator } from './createInterpolator'\nimport { colorToRgba } from './colorToRgba'\nimport * as G from './globals'\nimport {\n  cssVariableRegex,\n  colorRegex,\n  unitRegex,\n  numberRegex,\n  rgbaRegex,\n} from './regexs'\nimport { variableToRgba } from './variableToRgba'\n\n// Covers color names (transparent, blue, etc.)\nlet namedColorRegex: RegExp\n\n// rgba requires that the r,g,b are integers.... so we want to round them,\n// but we *dont* want to round the opacity (4th column).\nconst rgbaRound = (_: any, p1: number, p2: number, p3: number, p4: number) =>\n  `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`\n\n/**\n * Supports string shapes by extracting numbers so new values can be computed,\n * and recombines those values into new strings of the same shape.  Supports\n * things like:\n *\n *     \"rgba(123, 42, 99, 0.36)\"           // colors\n *     \"-45deg\"                            // values with units\n *     \"0 2px 2px 0px rgba(0, 0, 0, 0.12)\" // CSS box-shadows\n *     \"rotate(0deg) translate(2px, 3px)\"  // CSS transforms\n */\nexport const createStringInterpolator = (\n  config: InterpolatorConfig<string>\n) => {\n  if (!namedColorRegex)\n    namedColorRegex = G.colors\n      ? // match color names, ignore partial matches\n        new RegExp(`(${Object.keys(G.colors).join('|')})(?!\\\\w)`, 'g')\n      : // never match\n        /^\\b$/\n\n  // Convert colors to rgba(...)\n  const output = config.output.map(value => {\n    return getFluidValue(value)\n      .replace(cssVariableRegex, variableToRgba)\n      .replace(colorRegex, colorToRgba)\n      .replace(namedColorRegex, colorToRgba)\n  })\n\n  // Convert [\"1px 2px\", \"0px 0px\"] into [[1, 2], [0, 0]]\n  const keyframes = output.map(value => value.match(numberRegex)!.map(Number))\n\n  // Convert [\"1px 2px\", \"0px 0px\"] into [[1, 0], [2, 0]]\n  const outputRanges = keyframes[0].map((_, i) =>\n    keyframes.map(values => {\n      if (!(i in values)) {\n        throw Error('The arity of each \"output\" value must be equal')\n      }\n      return values[i]\n    })\n  )\n\n  // Create an interpolator for each animated number\n  const interpolators = outputRanges.map(output =>\n    createInterpolator({ ...config, output })\n  )\n\n  // Use the first `output` as a template for each call\n  return (input: number) => {\n    // Convert numbers to units if available (allows for [\"0\", \"100%\"])\n    const missingUnit =\n      !unitRegex.test(output[0]) &&\n      output.find(value => unitRegex.test(value))?.replace(numberRegex, '')\n\n    let i = 0\n    return output[0]\n      .replace(\n        numberRegex,\n        () => `${interpolators[i++](input)}${missingUnit || ''}`\n      )\n      .replace(rgbaRegex, rgbaRound)\n  }\n}\n","declare const console: any\n\nexport const prefix = 'react-spring: '\n\nexport const once = <TFunc extends (...args: any) => any>(fn: TFunc) => {\n  const func = fn\n  let called = false\n\n  if (typeof func != 'function') {\n    throw new TypeError(`${prefix}once requires a function parameter`)\n  }\n\n  return (...args: any) => {\n    if (!called) {\n      func(...args)\n      called = true\n    }\n  }\n}\n\nconst warnInterpolate = once(console.warn)\nexport function deprecateInterpolate() {\n  warnInterpolate(\n    `${prefix}The \"interpolate\" function is deprecated in v9 (use \"to\" instead)`\n  )\n}\n\nconst warnDirectCall = once(console.warn)\nexport function deprecateDirectCall() {\n  warnDirectCall(\n    `${prefix}Directly calling start instead of using the api object is deprecated in v9 (use \".start\" instead), this will be removed in later 0.X.0 versions`\n  )\n}\n","import * as G from './globals'\nimport { is, isSSR } from './helpers'\nimport { cssVariableRegex } from './regexs'\n\n// Not all strings can be animated (eg: {display: \"none\"})\nexport function isAnimatedString(value: unknown): value is string {\n  return (\n    is.str(value) &&\n    (value[0] == '#' ||\n      /\\d/.test(value) ||\n      // Do not identify a CSS variable as an AnimatedString if its SSR\n      (!isSSR() && cssVariableRegex.test(value)) ||\n      value in (G.colors || {}))\n  )\n}\n","import type { OnResizeCallback } from '.'\n\nlet observer: ResizeObserver | undefined\n\nconst resizeHandlers = new WeakMap<Element, Set<OnResizeCallback>>()\n\nconst handleObservation = (entries: ResizeObserverEntry[]) =>\n  entries.forEach(({ target, contentRect }) => {\n    return resizeHandlers.get(target)?.forEach(handler => handler(contentRect))\n  })\n\nexport function resizeElement(handler: OnResizeCallback, target: HTMLElement) {\n  /**\n   * If there's a resize observer in the ENV then use that too.\n   */\n  if (!observer) {\n    if (typeof ResizeObserver !== 'undefined') {\n      observer = new ResizeObserver(handleObservation)\n    }\n  }\n\n  /**\n   * Fetch the handlers for the target\n   */\n  let elementHandlers = resizeHandlers.get(target)\n\n  /**\n   * If there are no handlers create a new set for the target\n   * and then add to the map\n   */\n  if (!elementHandlers) {\n    elementHandlers = new Set()\n    resizeHandlers.set(target, elementHandlers)\n  }\n\n  /**\n   * Add the handler to the target's set\n   * and observe the target if possible.\n   */\n  elementHandlers.add(handler)\n\n  if (observer) {\n    observer.observe(target)\n  }\n\n  /**\n   * Cleanup the event handlers and potential observers.\n   */\n  return () => {\n    const elementHandlers = resizeHandlers.get(target)\n\n    if (!elementHandlers) return\n\n    elementHandlers.delete(handler)\n\n    if (!elementHandlers.size && observer) {\n      observer.unobserve(target)\n    }\n  }\n}\n","import type { OnResizeCallback } from '.'\n\nconst listeners = new Set<OnResizeCallback>()\n\nlet cleanupWindowResizeHandler: VoidFunction | undefined\n\nconst createResizeHandler = () => {\n  const handleResize = () => {\n    listeners.forEach(callback =>\n      callback({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      })\n    )\n  }\n\n  window.addEventListener('resize', handleResize)\n\n  return () => {\n    window.removeEventListener('resize', handleResize)\n  }\n}\n\nexport const resizeWindow = (callback: OnResizeCallback) => {\n  listeners.add(callback)\n\n  if (!cleanupWindowResizeHandler) {\n    cleanupWindowResizeHandler = createResizeHandler()\n  }\n\n  return () => {\n    listeners.delete(callback)\n\n    if (!listeners.size && cleanupWindowResizeHandler) {\n      cleanupWindowResizeHandler()\n      cleanupWindowResizeHandler = undefined\n    }\n  }\n}\n","import { resizeElement } from './resizeElement'\nimport { resizeWindow } from './resizeWindow'\n\nexport interface OnResizeOptions {\n  container?: HTMLElement\n}\n\nexport type OnResizeCallback = (\n  rect: Pick<DOMRectReadOnly, 'width' | 'height'> &\n    Partial<Omit<DOMRectReadOnly, 'width' | 'height'>>\n) => void\n\nexport const onResize = (\n  callback: OnResizeCallback,\n  { container = document.documentElement }: OnResizeOptions = {}\n): (() => void) => {\n  if (container === document.documentElement) {\n    return resizeWindow(callback)\n  } else {\n    return resizeElement(callback, container)\n  }\n}\n","export const progress = (min: number, max: number, value: number) =>\n  max - min === 0 ? 1 : (value - min) / (max - min)\n","import { progress } from '../../progress'\n\nimport type { OnScrollCallback } from './index'\n\nconst SCROLL_KEYS = {\n  x: {\n    length: 'Width',\n    position: 'Left',\n  },\n  y: {\n    length: 'Height',\n    position: 'Top',\n  },\n}\n\n/**\n * Whilst user's may not need the scrollLength, it's easier to return\n * the whole state we're storing and let them pick what they want.\n */\nexport interface ScrollAxis {\n  current: number\n  progress: number\n  scrollLength: number\n}\n\nexport interface ScrollInfo {\n  time: number\n  x: ScrollAxis\n  y: ScrollAxis\n}\n\n/**\n * Why use a class? More extensible in the future.\n */\nexport class ScrollHandler {\n  protected callback: OnScrollCallback\n  protected container: HTMLElement\n  protected info: ScrollInfo\n\n  constructor(callback: OnScrollCallback, container: HTMLElement) {\n    this.callback = callback\n    this.container = container\n\n    this.info = {\n      time: 0,\n      x: this.createAxis(),\n      y: this.createAxis(),\n    }\n  }\n\n  private createAxis = (): ScrollAxis => ({\n    current: 0,\n    progress: 0,\n    scrollLength: 0,\n  })\n\n  private updateAxis = (axisName: keyof Pick<ScrollInfo, 'x' | 'y'>) => {\n    const axis = this.info[axisName]\n    const { length, position } = SCROLL_KEYS[axisName]\n\n    axis.current = this.container[`scroll${position}`]\n    axis.scrollLength =\n      this.container['scroll' + length] - this.container['client' + length]\n\n    axis.progress = progress(0, axis.scrollLength, axis.current)\n  }\n\n  private update = () => {\n    this.updateAxis('x')\n    this.updateAxis('y')\n  }\n\n  private sendEvent = () => {\n    this.callback(this.info)\n  }\n\n  advance = () => {\n    this.update()\n    this.sendEvent()\n  }\n}\n","import { raf } from '@react-spring/rafz'\nimport { onResize } from '../resize'\n\nimport { ScrollInfo, ScrollHandler } from './ScrollHandler'\n\nexport type OnScrollCallback = (info: ScrollInfo) => void\n\nexport type OnScrollOptions = {\n  /**\n   * The root container to measure against\n   */\n  container?: HTMLElement\n}\n\nconst scrollListeners = new WeakMap<Element, () => boolean>()\nconst resizeListeners = new WeakMap<Element, VoidFunction>()\nconst onScrollHandlers = new WeakMap<Element, Set<ScrollHandler>>()\n\nconst getTarget = (container: HTMLElement) =>\n  container === document.documentElement ? window : container\n\nexport const onScroll = (\n  callback: OnScrollCallback,\n  { container = document.documentElement }: OnScrollOptions = {}\n) => {\n  /**\n   * get the current handlers for the target\n   */\n  let containerHandlers = onScrollHandlers.get(container)\n\n  /**\n   * If there aren't any handlers then create a new set.\n   */\n  if (!containerHandlers) {\n    containerHandlers = new Set()\n    onScrollHandlers.set(container, containerHandlers)\n  }\n\n  /**\n   * Create a new ScrollHandler class and add it to the set.\n   */\n  const containerHandler = new ScrollHandler(callback, container)\n  containerHandlers.add(containerHandler)\n\n  /**\n   * If there are no scrollListeners then we need to make them\n   */\n  if (!scrollListeners.has(container)) {\n    /**\n     * Return true so RAFZ continues to run it\n     */\n    const listener = () => {\n      containerHandlers?.forEach(handler => handler.advance())\n      return true\n    }\n\n    scrollListeners.set(container, listener)\n\n    const target = getTarget(container)\n\n    /**\n     * Add resize handlers so we can correctly calculate the\n     * scroll position on changes\n     */\n    window.addEventListener('resize', listener, { passive: true })\n\n    if (container !== document.documentElement) {\n      resizeListeners.set(container, onResize(listener, { container }))\n    }\n\n    /**\n     * Add the actual scroll listener\n     */\n    target.addEventListener('scroll', listener, { passive: true })\n  }\n\n  /**\n   * Start animation loop\n   */\n  const animateScroll = scrollListeners.get(container)!\n  raf(animateScroll)\n\n  return () => {\n    /**\n     * Clear it on cleanup\n     */\n    raf.cancel(animateScroll)\n\n    /**\n     * Check if we even have any handlers for this container.\n     */\n    const containerHandlers = onScrollHandlers.get(container)\n    if (!containerHandlers) return\n\n    containerHandlers.delete(containerHandler)\n\n    if (containerHandlers.size) return\n\n    /**\n     * If no more handlers, remove the scroll listener too.\n     */\n    const listener = scrollListeners.get(container)\n    scrollListeners.delete(container)\n\n    if (listener) {\n      getTarget(container).removeEventListener('scroll', listener)\n      window.removeEventListener('resize', listener)\n\n      resizeListeners.get(container)?.()\n    }\n  }\n}\n","import { useRef } from 'react'\n\ntype Init<T> = () => T\n\n/**\n * Creates a constant value over the lifecycle of a component.\n */\nexport function useConstant<T>(init: Init<T>) {\n  const ref = useRef<T | null>(null)\n\n  if (ref.current === null) {\n    ref.current = init()\n  }\n\n  return ref.current\n}\n","import { useState } from 'react'\nimport { useIsMounted } from './useIsMounted'\n\n/** Return a function that re-renders this component, if still mounted */\nexport function useForceUpdate() {\n  const update = useState<any>()[1]\n  const isMounted = useIsMounted()\n  return () => {\n    if (isMounted.current) {\n      update(Math.random())\n    }\n  }\n}\n","import { useRef } from 'react'\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect'\n\nexport const useIsMounted = () => {\n  const isMounted = useRef(false)\n  useIsomorphicLayoutEffect(() => {\n    isMounted.current = true\n\n    return () => {\n      isMounted.current = false\n    }\n  }, [])\n\n  return isMounted\n}\n","import { useEffect, useLayoutEffect } from 'react'\n\nimport { isSSR } from '../helpers'\n\n/**\n * Use this to read layout from the DOM and synchronously\n * re-render if the isSSR returns true. Updates scheduled\n * inside `useIsomorphicLayoutEffect` will be flushed\n * synchronously in the browser, before the browser has\n * a chance to paint.\n */\nexport const useIsomorphicLayoutEffect = isSSR() ? useEffect : useLayoutEffect\n","import { useEffect, useRef, useState } from 'react'\n\ntype Cache<T> = {\n  inputs?: any[]\n  result?: T\n}\n\n// TODO: remove once merged (https://github.com/alexreardon/use-memo-one/pull/10)\nexport function useMemoOne<T>(getResult: () => T, inputs?: any[]): T {\n  const [initial] = useState(\n    (): Cache<T> => ({\n      inputs,\n      result: getResult(),\n    })\n  )\n\n  const committed = useRef<Cache<T>>()\n  const prevCache = committed.current\n\n  let cache = prevCache\n  if (cache) {\n    const useCache = Boolean(\n      inputs && cache.inputs && areInputsEqual(inputs, cache.inputs)\n    )\n    if (!useCache) {\n      cache = {\n        inputs,\n        result: getResult(),\n      }\n    }\n  } else {\n    cache = initial\n  }\n\n  useEffect(() => {\n    committed.current = cache\n    if (prevCache == initial) {\n      initial.inputs = initial.result = undefined\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [cache])\n\n  return cache.result!\n}\n\nfunction areInputsEqual(next: any[], prev: any[]) {\n  if (next.length !== prev.length) {\n    return false\n  }\n  for (let i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false\n    }\n  }\n  return true\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, EffectCallback } from 'react'\n\nexport const useOnce = (effect: EffectCallback) => useEffect(effect, emptyDeps)\n\nconst emptyDeps: any[] = []\n","import { useEffect, useRef } from 'react'\n\n/** Use a value from the previous render */\nexport function usePrev<T>(value: T): T | undefined {\n  const prevRef = useRef<any>()\n  useEffect(() => {\n    prevRef.current = value\n  })\n  return prevRef.current\n}\n","import { useState } from 'react'\n\nimport { assign } from '../globals'\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect'\n\n/**\n * Returns `boolean` or `null`, used to automatically\n * set skipAnimations to the value of the user's\n * `prefers-reduced-motion` query.\n *\n * The return value, post-effect, is the value of their prefered setting\n */\nexport const useReducedMotion = () => {\n  const [reducedMotion, setReducedMotion] = useState<boolean | null>(null)\n\n  useIsomorphicLayoutEffect(() => {\n    const mql = window.matchMedia('(prefers-reduced-motion)')\n\n    const handleMediaChange = (e: MediaQueryListEvent | MediaQueryList) => {\n      setReducedMotion(e.matches)\n\n      assign({\n        skipAnimation: e.matches,\n      })\n    }\n\n    handleMediaChange(mql)\n\n    mql.addEventListener('change', handleMediaChange)\n\n    return () => {\n      mql.removeEventListener('change', handleMediaChange)\n    }\n  }, [])\n\n  return reducedMotion\n}\n"]},"metadata":{},"sourceType":"module"}